!function(){!function(e){"undefined"==typeof e.fn.each2&&e.extend(e.fn,{each2:function(t){for(var s=e([0]),i=-1,n=this.length;++i<n&&(s.context=s[0]=this[i])&&t.call(s[0],i,s)!==!1;);return this}})}(jQuery),function(e,t){function s(t){var s=e(document.createTextNode(""));t.before(s),s.before(t),s.remove()}function i(e){function t(e){return B[e]||e}return e.replace(/[^\u0000-\u007E]/g,t)}function n(e,t){for(var s=0,i=t.length;s<i;s+=1)if(a(e,t[s]))return s;return-1}function o(){var t=e(W);t.appendTo("body");var s={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),s}function a(e,s){return e===s||e!==t&&s!==t&&(null!==e&&null!==s&&(e.constructor===String?e+""==s+"":s.constructor===String&&s+""==e+""))}function r(t,s){var i,n,o;if(null===t||t.length<1)return[];for(i=t.split(s),n=0,o=i.length;n<o;n+=1)i[n]=e.trim(i[n]);return i}function c(e){return e.outerWidth(!1)-e.width()}function l(s){var i="keyup-change-value";s.on("keydown",function(){e.data(s,i)===t&&e.data(s,i,s.val())}),s.on("keyup",function(){var n=e.data(s,i);n!==t&&s.val()!==n&&(e.removeData(s,i),s.trigger("keyup-change"))})}function h(s){s.on("mousemove",function(s){var i=z;i!==t&&i.x===s.pageX&&i.y===s.pageY||e(s.target).trigger("mousemove-filtered",s)})}function u(e,s,i){i=i||t;var n;return function(){var t=arguments;window.clearTimeout(n),n=window.setTimeout(function(){s.apply(i,t)},e)}}function d(e,t){var s=u(e,function(e){t.trigger("scroll-debounced",e)});t.on("scroll",function(e){n(e.target,t.get())>=0&&s(e)})}function p(e){e[0]!==document.activeElement&&window.setTimeout(function(){var t,s=e[0],i=e.val().length;e.focus();var n=s.offsetWidth>0||s.offsetHeight>0;n&&s===document.activeElement&&(s.setSelectionRange?s.setSelectionRange(i,i):s.createTextRange&&(t=s.createTextRange(),t.collapse(!1),t.select()))},0)}function f(t){t=e(t)[0];var s=0,i=0;if("selectionStart"in t)s=t.selectionStart,i=t.selectionEnd-s;else if("selection"in document){t.focus();var n=document.selection.createRange();i=document.selection.createRange().text.length,n.moveStart("character",-t.value.length),s=n.text.length-i}return{offset:s,length:i}}function g(e){e.preventDefault(),e.stopPropagation()}function m(e){e.preventDefault(),e.stopImmediatePropagation()}function v(t){if(!M){var s=t[0].currentStyle||window.getComputedStyle(t[0],null);M=e(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:s.fontSize,fontFamily:s.fontFamily,fontStyle:s.fontStyle,fontWeight:s.fontWeight,letterSpacing:s.letterSpacing,textTransform:s.textTransform,whiteSpace:"nowrap"}),M.attr("class","select2-sizer"),e("body").append(M)}return M.text(t.val()),M.width()}function w(t,s,i){var n,o,a=[];n=e.trim(t.attr("class")),n&&(n=""+n,e(n.split(/\s+/)).each2(function(){0===this.indexOf("select2-")&&a.push(this)})),n=e.trim(s.attr("class")),n&&(n=""+n,e(n.split(/\s+/)).each2(function(){0!==this.indexOf("select2-")&&(o=i(this),o&&a.push(o))})),t.attr("class",a.join(" "))}function b(e,t,s,n){var o=i(e.toUpperCase()).indexOf(i(t.toUpperCase())),a=t.length;return o<0?void s.push(n(e)):(s.push(n(e.substring(0,o))),s.push("<span class='select2-match'>"),s.push(n(e.substring(o,o+a))),s.push("</span>"),void s.push(n(e.substring(o+a,e.length))))}function C(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})}function S(s){var i,n=null,o=s.quietMillis||100,a=s.url,r=this;return function(c){window.clearTimeout(i),i=window.setTimeout(function(){var i=s.data,o=a,l=s.transport||e.fn.select2.ajaxDefaults.transport,h={type:s.type||"GET",cache:s.cache||!1,jsonpCallback:s.jsonpCallback||t,dataType:s.dataType||"json"},u=e.extend({},e.fn.select2.ajaxDefaults.params,h);i=i?i.call(r,c.term,c.page,c.context):null,o="function"==typeof o?o.call(r,c.term,c.page,c.context):o,n&&"function"==typeof n.abort&&n.abort(),s.params&&(e.isFunction(s.params)?e.extend(u,s.params.call(r)):e.extend(u,s.params)),e.extend(u,{url:o,dataType:s.dataType,data:i,success:function(e){var t=s.results(e,c.page,c);c.callback(t)},error:function(e,t,s){var i={hasError:!0,jqXHR:e,textStatus:t,errorThrown:s};c.callback(i)}}),n=l.call(r,u)},o)}}function y(t){var s,i,n=t,o=function(e){return""+e.text};e.isArray(n)&&(i=n,n={results:i}),e.isFunction(n)===!1&&(i=n,n=function(){return i});var a=n();return a.text&&(o=a.text,e.isFunction(o)||(s=a.text,o=function(e){return e[s]})),function(t){var s,i=t.term,a={results:[]};return""===i?void t.callback(n()):(s=function(n,a){var r,c;if(n=n[0],n.items){r={};for(c in n)n.hasOwnProperty(c)&&(r[c]=n[c]);r.items=[],e(n.items).each2(function(e,t){s(t,r.items)}),(r.items.length||t.matcher(i,o(r),n))&&a.push(r)}else t.matcher(i,o(n),n)&&a.push(n)},e(n().results).each2(function(e,t){s(t,a.results)}),void t.callback(a))}}function x(s){var i=e.isFunction(s);return function(n){var o=n.term,a={results:[]},r=i?s(n):s;e.isArray(r)&&(e(r).each(function(){var e=this.text!==t,s=e?this.text:this;(""===o||n.matcher(o,s))&&a.results.push(e?this:{id:this,text:this})}),n.callback(a))}}function E(t,s){if(e.isFunction(t))return!0;if(!t)return!1;if("string"==typeof t)return!0;throw new Error(s+" must be a string, function, or falsy value")}function T(t,s){if(e.isFunction(t)){var i=Array.prototype.slice.call(arguments,2);return t.apply(s,i)}return t}function O(t){var s=0;return e.each(t,function(e,t){t.items?s+=O(t.items):s++}),s}function I(e,s,i,n){var o,r,c,l,h,u=e,d=!1;if(!n.createSearchChoice||!n.tokenSeparators||n.tokenSeparators.length<1)return t;for(;;){for(r=-1,c=0,l=n.tokenSeparators.length;c<l&&(h=n.tokenSeparators[c],r=e.indexOf(h),!(r>=0));c++);if(r<0)break;if(o=e.substring(0,r),e=e.substring(r+h.length),o.length>0&&(o=n.createSearchChoice.call(this,o,s),o!==t&&null!==o&&n.id(o)!==t&&null!==n.id(o))){for(d=!1,c=0,l=s.length;c<l;c++)if(a(n.id(o),n.id(s[c]))){d=!0;break}d||i(o)}}return u!==e?e:void 0}function P(){var t=this;e.each(arguments,function(e,s){t[s].remove(),t[s]=null})}function A(t,s){var i=function(){};return i.prototype=new t,i.prototype.constructor=i,i.prototype.parent=t.prototype,i.prototype=e.extend(i.prototype,s),i}if(window.Select2===t){var k,R,H,D,M,L,N,F=window.navigator.userAgent.indexOf("MSIE")!==-1||window.navigator.appVersion.indexOf("Trident/")>0,U=window.navigator.appVersion.indexOf("Edge/")>0,z={x:0,y:0},j={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which?e.which:e){case j.LEFT:case j.RIGHT:case j.UP:case j.DOWN:return!0}return!1},isControl:function(e){var t=e.which;switch(t){case j.SHIFT:case j.CTRL:case j.ALT:return!0}return!!e.metaKey},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&e<=123}},W="<div class='select2-measure-scrollbar'></div>",B={"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"};L=e(document),D=function(){var e=1;return function(){return e++}}(),k=A(Object,{isMultiple:!1,preventBlur:!1,bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(s){var i,n,a=".select2-results";this.opts=s=this.prepareOpts(s),this.id=s.id,s.element.data("select2")!==t&&null!==s.element.data("select2")&&s.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body),this.containerId="s2id_"+(s.element.attr("id")||"autogen"+D()),this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.container.attr("title",s.element.attr("title")),this.body=e("body"),w(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",s.element.attr("style")),this.container.css(T(s.containerCss,this.opts.element)),this.container.addClass(T(s.containerCssClass,this.opts.element)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",function(e){g(e)}),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),w(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(T(s.dropdownCssClass,this.opts.element)),this.dropdown.data("select2",this),this.dropdown.on("click",function(e){g(e)}),this.results=i=this.container.find(a),this.search=n=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("mouseenter",this.bind(function(){this.isContainerHovered=!0})),this.container.on("mouseleave",this.bind(function(){this.isContainerHovered=!1})),h(this.results),this.dropdown.on("mousemove-filtered",a,this.bind(function(e){this.highlightUnderEvent(e)})),this.dropdown.on("touchstart touchmove touchend",a,this.bind(function(e){this._touchEvent=!0,this.highlightUnderEvent(e)})),this.dropdown.on("touchmove",a,this.bind(function(e){this.touchMoved(e)})),this.dropdown.on("touchstart touchend",a,this.bind(function(e){this.clearTouchMoved(e)})),this.dropdown.on("click",this.bind(function(e){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())})),d(80,this.results),this.dropdown.on("scroll-debounced",a,this.bind(function(e){this.loadMoreIfNeeded(e)})),e(this.container).on("change",".select2-input",function(e){e.stopPropagation()}),e(this.dropdown).on("change",".select2-input",function(e){e.stopPropagation()}),e.fn.mousewheel&&i.mousewheel(function(e,t,s,n){var o=i.scrollTop();n>0&&o-n<=0?(i.scrollTop(0),g(e)):n<0&&i.get(0).scrollHeight-i.scrollTop()+n<=i.height()&&(i.scrollTop(i.get(0).scrollHeight-i.height()),g(e))}),l(n),n.on("keyup-change input paste",this.bind(this.updateResults)),n.on("focus",function(){n.addClass("select2-focused")}),n.on("blur",function(){n.removeClass("select2-focused")}),this.dropdown.on("mouseup",a,this.bind(function(t){e(t.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(t),this.selectHighlighted(t))})),this.dropdown.on("click mouseup mousedown touchstart touchend focusin",function(e){e.stopPropagation()}),this.nextSearchTerm=t,e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==s.maximumInputLength&&this.search.attr("maxlength",s.maximumInputLength);var r=s.element.prop("disabled");r===t&&(r=!1),this.enable(!r);var c=s.element.prop("readonly");c===t&&(c=!1),this.readonly(c),N=N||o(),this.autofocus=s.element.prop("autofocus"),s.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",s.searchInputPlaceholder)},destroy:function(){var e=this.opts.element,s=e.data("select2"),i=this;this.close(),e.length&&e[0].detachEvent&&e.each(function(){this.detachEvent("onpropertychange",i._sync)}),this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null),this._sync=null,s!==t&&(s.container.remove(),s.liveRegion.remove(),s.dropdown.remove(),e.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?e.attr({tabindex:this.elementTabIndex}):e.removeAttr("tabindex"),e.show()),P.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(e){return e.is("option")?{id:e.prop("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:e.prop("disabled"),locked:a(e.attr("locked"),"locked")||a(e.data("locked"),!0)}:e.is("optgroup")?{text:e.attr("label"),items:[],element:e.get(),css:e.attr("class")}:void 0},prepareOpts:function(s){var i,n,o,c,l=this;if(i=s.element,"select"===i.get(0).tagName.toLowerCase()&&(this.select=n=s.element),n&&e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in s)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),s=e.extend({},{populateResults:function(i,n,o){var a,r=this.opts.id,c=this.liveRegion;(a=function(i,n,h){var u,d,p,f,g,m,v,w,b,C;i=s.sortResults(i,n,o);var S=[];for(u=0,d=i.length;u<d;u+=1)p=i[u],g=p.disabled===!0,f=!g&&r(p)!==t,m=p.items&&p.items.length>0,v=e("<li></li>"),v.addClass("select2-results-dept-"+h),v.addClass("select2-result"),v.addClass(f?"select2-result-selectable":"select2-result-unselectable"),g&&v.addClass("select2-disabled"),m&&v.addClass("select2-result-has-items"),v.addClass(l.opts.formatResultCssClass(p)),v.attr("role","presentation"),w=e(document.createElement("div")),w.addClass("select2-result-label"),w.attr("id","select2-result-label-"+D()),w.attr("role","option"),C=s.formatResult(p,w,o,l.opts.escapeMarkup),C!==t&&(w.html(C),v.append(w)),m&&(b=e("<ul></ul>"),b.addClass("select2-result-sub"),a(p.items,b,h+1),v.append(b)),v.data("select2-data",p),S.push(v[0]);n.append(S),c.text(s.formatMatches(i.length))})(n,i,0)}},e.fn.select2.defaults,s),"function"!=typeof s.id&&(o=s.id,s.id=function(e){return e[o]}),e.isArray(s.element.data("select2Tags"))){if("tags"in s)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+s.element.attr("id");s.tags=s.element.data("select2Tags")}if(n?(s.query=this.bind(function(e){var s,n,o,a={results:[],more:!1},r=e.term;o=function(t,s){var i;t.is("option")?e.matcher(r,t.text(),t)&&s.push(l.optionToData(t)):t.is("optgroup")&&(i=l.optionToData(t),t.children().each2(function(e,t){o(t,i.items)}),i.items.length>0&&s.push(i))},s=i.children(),this.getPlaceholder()!==t&&s.length>0&&(n=this.getPlaceholderOption(),n&&(s=s.not(n))),s.each2(function(e,t){o(t,a.results)}),e.callback(a)}),s.id=function(e){return e.id}):"query"in s||("ajax"in s?(c=s.element.data("ajax-url"),c&&c.length>0&&(s.ajax.url=c),s.query=S.call(s.element,s.ajax)):"data"in s?s.query=y(s.data):"tags"in s&&(s.query=x(s.tags),s.createSearchChoice===t&&(s.createSearchChoice=function(t){return{id:e.trim(t),text:e.trim(t)}}),s.initSelection===t&&(s.initSelection=function(t,i){var n=[];e(r(t.val(),s.separator)).each(function(){var t={id:this,text:this},i=s.tags;e.isFunction(i)&&(i=i()),e(i).each(function(){if(a(this.id,t.id))return t=this,!1}),n.push(t)}),i(n)}))),"function"!=typeof s.query)throw"query function not defined for Select2 "+s.element.attr("id");if("top"===s.createSearchChoicePosition)s.createSearchChoicePosition=function(e,t){e.unshift(t)};else if("bottom"===s.createSearchChoicePosition)s.createSearchChoicePosition=function(e,t){e.push(t)};else if("function"!=typeof s.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return s},monitorSource:function(){var s,i=this.opts.element,n=this;i.on("change.select2",this.bind(function(e){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),this._sync=this.bind(function(){var e=i.prop("disabled");e===t&&(e=!1),this.enable(!e);var s=i.prop("readonly");s===t&&(s=!1),this.readonly(s),w(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(T(this.opts.containerCssClass,this.opts.element)),w(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(T(this.opts.dropdownCssClass,this.opts.element))}),i.length&&i[0].attachEvent&&i.each(function(){this.attachEvent("onpropertychange",n._sync)}),s=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,s!==t&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new s(function(t){e.each(t,n._sync)}),this.propertyObserver.observe(i.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(t){var s=e.Event("select2-selecting",{val:this.id(t),object:t,choice:t});return this.opts.element.trigger(s),!s.isDefaultPrevented()},triggerChange:function(t){t=t||{},t=e.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var e=this._enabled&&!this._readonly,t=!e;return e!==this.enabledInterface&&(this.container.toggleClass("select2-container-disabled",t),this.close(),this.enabledInterface=e,!0)},enable:function(e){e===t&&(e=!0),this._enabled!==e&&(this._enabled=e,this.opts.element.prop("disabled",!e),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(e){e===t&&(e=!1),this._readonly!==e&&(this._readonly=e,this.opts.element.prop("readonly",e),this.enableInterface())},opened:function(){return!!this.container&&this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t,s,i,n,o,a=this.dropdown,r=this.container.offset(),c=this.container.outerHeight(!1),l=this.container.outerWidth(!1),h=a.outerHeight(!1),u=e(window),d=u.width(),p=u.height(),f=u.scrollLeft()+d,g=u.scrollTop()+p,m=r.top+c,v=r.left,w=m+h<=g,b=r.top-h>=u.scrollTop(),C=a.outerWidth(!1),S=v+C<=f,y=a.hasClass("select2-drop-above");y?(s=!0,!b&&w&&(i=!0,s=!1)):(s=!1,!w&&b&&(i=!0,s=!0)),i&&(a.hide(),r=this.container.offset(),c=this.container.outerHeight(!1),l=this.container.outerWidth(!1),h=a.outerHeight(!1),f=u.scrollLeft()+d,g=u.scrollTop()+p,m=r.top+c,v=r.left,C=a.outerWidth(!1),S=v+C<=f,a.show(),this.focusSearch()),this.opts.dropdownAutoWidth?(o=e(".select2-results",a)[0],a.addClass("select2-drop-auto-width"),a.css("width",""),C=a.outerWidth(!1)+(o.scrollHeight===o.clientHeight?0:N.width),C>l?l=C:C=l,h=a.outerHeight(!1),S=v+C<=f):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body.css("position")&&(t=this.body.offset(),m-=t.top,v-=t.left),S||(v=r.left+this.container.outerWidth(!1)-C),n={left:v,width:l},s?(n.top=r.top-h,n.bottom="auto",this.container.addClass("select2-drop-above"),a.addClass("select2-drop-above")):(n.top=m,n.bottom="auto",this.container.removeClass("select2-drop-above"),a.removeClass("select2-drop-above")),n=e.extend(n,T(this.opts.dropdownCss,this.opts.element)),a.css(n)},shouldOpen:function(){var t;return!this.opened()&&(this._enabled!==!1&&this._readonly!==!0&&(t=e.Event("select2-opening"),this.opts.element.trigger(t),!t.isDefaultPrevented()))},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return!!this.shouldOpen()&&(e(".select2-container").each(function(t,s){var i=e(s).data().select2;this.containerId!==i.containerId&&i.opened()&&(i.preventBlur=!0,i.close())}),this.opening(),L.on("mousemove.select2Event",function(e){z.x=e.pageX,z.y=e.pageY}),L.on("mousedown.select2Event touchstart.select2Event click.select2Event",this.bind(function(e){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.isContainerHovered||this.close(e),this.isMultiple||this.isContainerHovered||this.opts.instance.blur(e)})),!0)},opening:function(){var t=this.containerEventName,s="scroll."+t,i="resize."+t,n="orientationchange."+t;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body),e("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var o=this;this.container.parents().add(window).each(function(){e(this).on(i+" "+s+" "+n,function(e){o.opened()&&o.positionDropdown()})})},close:function(t){if(this.opened()){var s=this.containerEventName,i="scroll."+s,n="resize."+s,o="orientationchange."+s;this.container.parents().add(window).each(function(){e(this).off(i).off(n).off(o)}),this.clearDropdownAlignmentPreference(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),(F||U)&&t&&"ma-text-box-value"===t.target.className&&(U?window.setTimeout(function(){t.target.focus()},0):t.target.focus()),L.off("mousemove.select2Event"),L.off("mousedown.select2Event touchstart.select2Event click.select2Event"),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(e.Event("select2-close"))}},externalSearch:function(e){this.open(),this.search.val(e),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return T(this.opts.maximumSelectionSize,this.opts.element)},ensureHighlightVisible:function(){var t,s,i,n,o,a,r,c,l=this.results;if(s=this.highlight(),!(s<0)){if(0==s)return void l.scrollTop(0);t=this.findHighlightableChoices().find(".select2-result-label"),i=e(t[s]),c=(i.offset()||{}).top||0,n=c+i.outerHeight(!0),s===t.length-1&&(r=l.find("li.select2-more-results"),r.length>0&&(n=r.offset().top+r.outerHeight(!0))),o=l.offset().top+l.outerHeight(!0),n>o&&l.scrollTop(l.scrollTop()+(n-o)),a=c-l.offset().top,a<0&&"none"!=i.css("display")&&l.scrollTop(l.scrollTop()+a)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(t){for(var s=this.findHighlightableChoices(),i=this.highlight();i>-1&&i<s.length;){i+=t;var n=e(s[i]);if(n.hasClass("select2-result-selectable")&&!n.hasClass("select2-disabled")&&!n.hasClass("select2-selected")){this.highlight(i);break}}},highlight:function(t){var s,i,o=this.findHighlightableChoices();return 0===arguments.length?n(o.filter(".select2-highlighted")[0],o.get()):(t>=o.length&&(t=o.length-1),t<0&&(t=0),this.removeHighlight(),s=e(o[t]),s.addClass("select2-highlighted"),this.search.attr("aria-activedescendant",s.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(s.text()),i=s.data("select2-data"),void(i&&this.opts.element.trigger({type:"select2-highlight",val:this.id(i),choice:i})))},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var s=e(t.target).closest(".select2-result-selectable");if(s.length>0&&!s.is(".select2-highlighted")){var i=this.findHighlightableChoices();this.highlight(i.index(s))}else 0==s.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var e,t=this.results,s=t.find("li.select2-more-results"),i=this.resultsPage+1,n=this,o=this.search.val(),a=this.context;0!==s.length&&(e=s.offset().top-t.offset().top-t.height(),e<=this.opts.loadMorePadding&&(s.addClass("select2-active"),this.opts.query({element:this.opts.element,term:o,page:i,context:a,matcher:this.opts.matcher,callback:this.bind(function(e){n.opened()&&(n.opts.populateResults.call(this,t,e.results,{term:o,page:i,context:a}),n.postprocessResults(e,!1,!1),e.more===!0?(s.detach().appendTo(t).text(T(n.opts.formatLoadMore,n.opts.element,i+1)),window.setTimeout(function(){n.loadMoreIfNeeded()},10)):s.remove(),n.positionDropdown(),n.resultsPage=i,n.context=e.context,this.opts.element.trigger({type:"select2-loaded",items:e}))})})))},tokenize:function(){},updateResults:function(s){function i(){l.removeClass("select2-active"),d.positionDropdown(),h.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?d.liveRegion.text(h.text()):d.liveRegion.text(d.opts.formatMatches(h.find(".select2-result-selectable").length))}function n(e){h.html(e),i()}var o,r,c,l=this.search,h=this.results,u=this.opts,d=this,p=l.val(),f=e.data(this.container,"select2-last-term");if((s===!0||!f||!a(p,f))&&(e.data(this.container,"select2-last-term",p),s===!0||this.showSearchInput!==!1&&this.opened())){c=++this.queryCount;var g=this.getMaximumSelectionSize();if(g>=1&&(o=this.data(),e.isArray(o)&&o.length>=g&&E(u.formatSelectionTooBig,"formatSelectionTooBig")))return void n("<li class='select2-selection-limit'>"+T(u.formatSelectionTooBig,u.element,g)+"</li>");if(l.val().length<u.minimumInputLength)return n(E(u.formatInputTooShort,"formatInputTooShort")?"<li class='select2-no-results'>"+T(u.formatInputTooShort,u.element,l.val(),u.minimumInputLength)+"</li>":""),void(s&&this.showSearch&&this.showSearch(!0));if(u.maximumInputLength&&l.val().length>u.maximumInputLength)return void n(E(u.formatInputTooLong,"formatInputTooLong")?"<li class='select2-no-results'>"+T(u.formatInputTooLong,u.element,l.val(),u.maximumInputLength)+"</li>":"");u.formatSearching&&0===this.findHighlightableChoices().length&&n("<li class='select2-searching'>"+T(u.formatSearching,u.element)+"</li>"),l.addClass("select2-active"),this.removeHighlight(),r=this.tokenize(),r!=t&&null!=r&&l.val(r),this.resultsPage=1,u.query({element:u.element,term:l.val(),page:this.resultsPage,context:null,matcher:u.matcher,callback:this.bind(function(o){var r;if(c==this.queryCount){if(!this.opened())return void(this.search&&this.search.removeClass("select2-active"));if(o.hasError!==t&&E(u.formatAjaxError,"formatAjaxError"))return void n("<li class='select2-ajax-error'>"+T(u.formatAjaxError,u.element,o.jqXHR,o.textStatus,o.errorThrown)+"</li>");
if(this.context=o.context===t?null:o.context,this.opts.createSearchChoice&&""!==l.val()&&(r=this.opts.createSearchChoice.call(d,l.val(),o.results),r!==t&&null!==r&&d.id(r)!==t&&null!==d.id(r)&&0===e(o.results).filter(function(){return a(d.id(this),d.id(r))}).length&&this.opts.createSearchChoicePosition(o.results,r)),0===o.results.length&&E(u.formatNoMatches,"formatNoMatches"))return void n("<li class='select2-no-results'>"+T(u.formatNoMatches,u.element,l.val())+"</li>");h.empty(),d.opts.populateResults.call(this,h,o.results,{term:l.val(),page:this.resultsPage,context:null}),o.more===!0&&E(u.formatLoadMore,"formatLoadMore")&&(h.append("<li class='select2-more-results'>"+u.escapeMarkup(T(u.formatLoadMore,u.element,this.resultsPage))+"</li>"),window.setTimeout(function(){d.loadMoreIfNeeded()},10)),this.postprocessResults(o,s),i(),this.opts.element.trigger({type:"select2-loaded",items:o})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){p(this.search)},selectHighlighted:function(e){if(this._touchMoved)return void this.clearTouchMoved();var t=this.highlight(),s=this.results.find(".select2-highlighted"),i=s.closest(".select2-result").data("select2-data");i?(this.highlight(t),this.onSelect(i,e)):e&&e.noFocus&&this.close()},getPlaceholder:function(){var e;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((e=this.getPlaceholderOption())!==t?e.text():t)},getPlaceholderOption:function(){if(this.select){var s=this.select.children("option").first();if(this.opts.placeholderOption!==t)return"first"===this.opts.placeholderOption&&s||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===e.trim(s.text())&&""===s.val())return s}},initContainerWidth:function(){function s(){var s,i,n,o,a,r;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(s=this.opts.element.attr("style"),s!==t)for(i=s.split(";"),o=0,a=i.length;o<a;o+=1)if(r=i[o].replace(/\s/g,""),n=r.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==n&&n.length>=1)return n[1];return"resolve"===this.opts.width?(s=this.opts.element.css("width"),s.indexOf("%")>0?s:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}var i=s.call(this);null!==i&&this.container.css("width",i)}}),R=A(k,{preventBlur:!1,createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none"+(this.opts.canAddItem?" select2-drop-can-add-item":"")+"'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","       <div class='ma-pace'><div class='ma-pace-activity'></div></div>","       <i class='select2-drop-search-icon fa fa-search'></i>",this.opts.canAddItem?"<div class='select2-drop-add-item-button'><i class='fa fa-plus'></i></div>":"","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""));return t},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var s,i,n;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.opts.shouldFocusInput(this)&&(this.search.focus(),s=this.search.get(0),s.createTextRange?(i=s.createTextRange(),i.collapse(!1),i.select()):s.setSelectionRange&&(n=this.search.val().length,s.setSelectionRange(n,n))),""===this.search.val()&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.isContainerHovered&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){e("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),P.call(this,"selection","focusser")},initContainer:function(){var t,i,n=this.container,o=this.dropdown,a=D();this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=t=n.find(".select2-choice"),this.focusser=n.find(".select2-focusser"),this.addItemButton=n.find(".select2-drop-add-item-button"),t.find(".select2-chosen").attr("id","select2-chosen-"+a),this.focusser.attr("aria-labelledby","select2-chosen-"+a),this.results.attr("id","select2-results-"+a),this.search.attr("aria-owns","select2-results-"+a),this.focusser.attr("id","s2id_autogen"+a),i=e("label[for='"+this.opts.element.attr("id")+"']"),this.focusser.prev().text(i.text()).attr("for",this.focusser.attr("id"));var r=this.opts.element.attr("title");this.opts.element.attr("title",r||i.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(e("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&229!=e.keyCode){if(e.which===j.PAGE_UP||e.which===j.PAGE_DOWN)return void g(e);switch(e.which){case j.UP:case j.DOWN:return this.moveHighlight(e.which===j.UP?-1:1),void g(e);case j.ENTER:return this.selectHighlighted(),void g(e);case j.TAB:return void this.selectHighlighted({noFocus:!0});case j.ESC:return this.cancel(e),void g(e)}}})),this.search.on("input",this.bind(function(e){this.searchText=(this.search.val()||"").trim()})),this.focusser.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&e.which!==j.TAB&&!j.isControl(e)&&!j.isFunctionKey(e)&&e.which!==j.ESC){if(this.opts.openOnEnter===!1&&e.which===j.ENTER)return void g(e);if(e.which==j.DOWN||e.which==j.UP||e.which==j.ENTER&&this.opts.openOnEnter){if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return;return this.open(),void g(e)}return e.which==j.DELETE||e.which==j.BACKSPACE?(this.opts.allowClear&&this.clear(),void g(e)):void 0}})),l(this.focusser),this.focusser.on("keyup-change input",this.bind(function(e){if(this.opts.minimumResultsForSearch>=0){if(e.stopPropagation(),this.opened())return;this.open()}})),t.on("mousedown touchstart","abbr",this.bind(function(e){this.isInterfaceEnabled()&&(this.clear(),m(e),this.close(),this.selection.focus())})),t.on("click",this.bind(function(e){s(t),this.opened()?this.close():this.isInterfaceEnabled()&&(this.opts.instance.focus(),this.open())})),o.on("mousedown touchstart",this.bind(function(){this.opts.shouldFocusInput(this)&&this.search.focus()})),this.focusser.on("focus",this.bind(function(t){this.container.hasClass("select2-container-active")||(this.opts.element.trigger(e.Event("select2-focus")),this.preventFocus||this.isContainerHovered||this.opts.instance.focus(),this.preventFocus=!1),this.container.addClass("select2-container-active")})).on("focusout",this.bind(function(t){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(e.Event("select2-blur")),this.isContainerHovered||this.opts.instance.blur(t))})),this.search.on("focus",this.bind(function(){this.opts.instance.focus(),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(t){if(this.selection){var s=this.selection.data("select2-data");if(s){var i=e.Event("select2-clearing");if(this.opts.element.trigger(i),!i.isDefaultPrevented()){var n=this.getPlaceholderOption();this.opts.element.val(n?n.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),t!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(s),choice:s}),this.triggerChange({removed:s}))}}}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var e=this;this.opts.initSelection.call(null,this.opts.element,function(s){s!==t&&null!==s&&(e.updateSelection(s),e.close(),e.setPlaceholder(),e.nextSearchTerm=e.opts.nextSearchTerm(s,e.search.val()))})}},isPlaceholderOptionSelected:function(){var e;return this.getPlaceholder()!==t&&((e=this.getPlaceholderOption())!==t&&e.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===t||null===this.opts.element.val())},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),s=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var i=e.find("option").filter(function(){return this.selected&&!this.disabled});t(s.optionToData(i))}:"data"in t&&(t.initSelection=t.initSelection||function(s,i){var n=s.val(),o=null;t.query({matcher:function(e,s,i){var r=a(n,t.id(i));return r&&(o=i),r},callback:e.isFunction(i)?function(){i(o)}:e.noop})}),t},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===t?t:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var e=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&e!==t){if(this.select&&this.getPlaceholderOption()===t)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(e,t,s){var i=0,n=this;if(this.findHighlightableChoices().each2(function(e,t){if(a(n.id(t.data("select2-data")),n.opts.element.val()))return i=e,!1}),s!==!1&&(t===!0&&i>=0?this.highlight(i):this.highlight(0)),t===!0){var o=this.opts.minimumResultsForSearch;o>=0&&this.showSearch(O(e.results)>=o)}},showSearch:function(t){this.showSearchInput!==t&&(this.showSearchInput=t,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t),e(this.dropdown,this.container).toggleClass("select2-with-searchbox",t))},onSelect:function(e,t){if(this.triggerSelect(e)){var s=this.opts.element.val(),i=this.data();this.opts.element.val(this.id(e)),this.updateSelection(e),this.opts.element.trigger({type:"select2-selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.close(),t&&t.noFocus||!this.opts.shouldFocusInput(this)||(this.preventFocus=!0,this.focusser.focus()),a(s,this.id(e))||this.triggerChange({added:e,removed:i})}},updateSelection:function(e){if(this.selection){var s,i,n=this.selection.find(".select2-chosen");this.selection.data("select2-data",e),n.empty(),null!==e&&(s=this.opts.formatSelection(e,n,this.opts.escapeMarkup)),s!==t&&n.append(s),i=this.opts.formatSelectionCssClass(e,n),i!==t&&n.addClass(i),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t&&this.container.addClass("select2-allowclear")}},val:function(){var e,s=!1,i=null,n=this,o=this.data();if(0===arguments.length)return this.opts.element.val();if(e=arguments[0],arguments.length>1&&(s=arguments[1]),this.select)this.select.val(e).find("option").filter(function(){return this.selected}).each2(function(e,t){return i=n.optionToData(t),!1}),this.updateSelection(i),this.setPlaceholder(),s&&this.triggerChange({added:i,removed:o});else{if(!e&&0!==e)return void this.clear(s);if(this.opts.initSelection===t)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(e),this.opts.initSelection(this.opts.element,function(e){n.opts.element.val(e?n.id(e):""),n.updateSelection(e),n.setPlaceholder(),s&&n.triggerChange({added:e,removed:o})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(e){var s,i=!1;return 0===arguments.length?(s=this.selection?this.selection.data("select2-data"):t,s==t&&(s=null),s):(arguments.length>1&&(i=arguments[1]),void(e?(s=this.data(),this.opts.element.val(e?this.id(e):""),this.updateSelection(e),i&&this.triggerChange({added:e,removed:s})):this.clear(i)))}}),H=A(k,{isMultiple:!0,preventBlur:!1,createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","    <div class='ma-pace'><div class='ma-pace-activity'></div></div>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),s=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var i=[];e.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(e,t){i.push(s.optionToData(t))}),t(i)}:"data"in t&&(t.initSelection=t.initSelection||function(s,i){var n=r(s.val(),t.separator),o=[];t.query({matcher:function(s,i,r){var c=e.grep(n,function(e){return a(e,t.id(r))}).length;return c&&o.push(r),c},callback:e.isFunction(i)?function(){for(var e=[],s=0;s<n.length;s++)for(var r=n[s],c=0;c<o.length;c++){var l=o[c];if(a(r,t.id(l))){e.push(l),o.splice(c,1);break}}i(e)}:e.noop})}),t},selectChoice:function(e){var t=this.container.find(".select2-search-choice-focus");t.length&&e&&e[0]==t[0]||(t.length&&this.opts.element.trigger("choice-deselected",t),t.removeClass("select2-search-choice-focus"),e&&e.length&&(this.close(),e.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",e)))},destroy:function(){e("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),P.call(this,"searchContainer","selection")},initContainer:function(){var t,s=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=t=this.container.find(s);var i=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(t){i.search[0].focus(),i.selectChoice(e(this))}),this.search.attr("id","s2id_autogen"+D()),this.search.prev().text(e("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.search.attr("placeholder")&&0==this.search.val().length||this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){++this.keydowns;var s=t.find(".select2-search-choice-focus"),i=s.prev(".select2-search-choice:not(.select2-locked)"),n=s.next(".select2-search-choice:not(.select2-locked)"),o=f(this.search);if(s.length&&(e.which==j.LEFT||e.which==j.RIGHT||e.which==j.BACKSPACE||e.which==j.DELETE||e.which==j.ENTER)){var a=s;return e.which==j.LEFT&&i.length?a=i:e.which==j.RIGHT?a=n.length?n:null:e.which===j.BACKSPACE?this.unselect(s.first())&&(this.search.width(10),a=i.length?i:n):e.which==j.DELETE?this.unselect(s.first())&&(this.search.width(10),a=n.length?n:null):e.which==j.ENTER&&(a=null),this.selectChoice(a),g(e),void(a&&a.length||this.open())}if((e.which===j.BACKSPACE&&1==this.keydowns||e.which==j.LEFT)&&0==o.offset&&!o.length)return this.selectChoice(t.find(".select2-search-choice:not(.select2-locked)").last()),void g(e);if(this.selectChoice(null),this.opened())switch(e.which){case j.UP:case j.DOWN:return this.moveHighlight(e.which===j.UP?-1:1),void g(e);case j.ENTER:return this.selectHighlighted(),void g(e);case j.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case j.ESC:return this.cancel(e),void g(e)}if(e.which!==j.TAB&&!j.isControl(e)&&!j.isFunctionKey(e)&&e.which!==j.BACKSPACE&&e.which!==j.ESC){if(e.which===j.ENTER){if(this.opts.openOnEnter===!1)return;if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return}this.open(),e.which!==j.PAGE_UP&&e.which!==j.PAGE_DOWN||g(e),e.which===j.ENTER&&g(e)}}})),this.search.on("keyup",this.bind(function(e){this.keydowns=0,this.resizeSearch()})),this.search.on("focusout",this.bind(function(t){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),t.stopImmediatePropagation(),this.opts.element.trigger(e.Event("select2-blur")),this.preventBlur?this.preventBlur=!1:this.opts.instance.blur(t)})),this.container.on("click",s,this.bind(function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||(this.opts.element.trigger(e.Event("select2-focus")),this.opts.instance.focus()),this.open(),this.focusSearch(),t.preventDefault()))})),this.container.on("focus",s,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||(this.opts.element.trigger(e.Event("select2-focus")),this.opts.instance.focus()),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var e=this;this.opts.initSelection.call(null,this.opts.element,function(s){s!==t&&null!==s&&(e.updateSelection(s),e.close(),e.clearSearch())})}},clearSearch:function(){var e=this.getPlaceholder(),s=this.getMaxSearchWidth();e!==t&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(e).addClass("select2-default"),this.search.width(s>0?s:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),""===this.search.val()&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select()),this.updateResults(!0),this.opts.shouldFocusInput(this)&&this.search.focus(),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.isContainerHovered?this.search.focus():this.search.blur())},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var s=[],i=[],o=this;e(t).each(function(){n(o.id(this),s)<0&&(s.push(o.id(this)),i.push(this))}),t=i,this.selection.find(".select2-search-choice").remove(),e(t).each(function(){o.addSelectedChoice(this)}),o.postprocessResults()},tokenize:function(){var e=this.search.val();e=this.opts.tokenizer.call(this,e,this.data(),this.bind(this.onSelect),this.opts),null!=e&&e!=t&&(this.search.val(e),e.length>0&&this.open())},onSelect:function(e,s){this.triggerSelect(e)&&""!==e.text&&(this.addSelectedChoice(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.clearSearch(),this.updateResults(),!this.select&&this.opts.closeOnSelect||this.postprocessResults(e,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.updateResults(),this.search.select()),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:e}),s&&s.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(s){var i,n,o=!s.locked,a=e("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),r=e("<li class='select2-search-choice select2-locked'><div></div></li>"),c=o?a:r,l=this.id(s),h=this.getVal();i=this.opts.formatSelection(s,c.find("div"),this.opts.escapeMarkup),i!=t&&c.find("div").replaceWith("<div>"+i+"</div>"),n=this.opts.formatSelectionCssClass(s,c.find("div")),n!=t&&c.addClass(n),o&&c.find(".select2-search-choice-close").on("mousedown",g).on("click dblclick",this.bind(function(t){this.isInterfaceEnabled()&&(this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),g(t),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),c.data("select2-data",s),c.insertBefore(this.searchContainer),h.push(l),this.setVal(h)},unselect:function(t){var s,i,o=this.getVal();if(t=t.closest(".select2-search-choice"),0===t.length)throw"Invalid argument: "+t+". Must be .select2-search-choice";if(s=t.data("select2-data")){var a=e.Event("select2-removing");if(a.val=this.id(s),a.choice=s,this.opts.element.trigger(a),a.isDefaultPrevented())return!1;for(;(i=n(this.id(s),o))>=0;)o.splice(i,1),this.setVal(o),this.select&&this.postprocessResults();return t.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(s),choice:s}),this.triggerChange({removed:s}),!0}},postprocessResults:function(e,t,s){var i=this.getVal(),o=this.results.find(".select2-result"),a=this.results.find(".select2-result-has-items"),r=this;o.each2(function(e,t){var s=r.id(t.data("select2-data"));n(s,i)>=0&&(t.addClass("select2-selected"),t.find(".select2-result-selectable").addClass("select2-selected"))}),a.each2(function(e,t){t.is(".select2-result-selectable")||0!==t.find(".select2-result-selectable:not(.select2-selected)").length||t.addClass("select2-selected")}),this.highlight()==-1&&s!==!1&&r.highlight(0),this.opts.createSearchChoice||0!==o.filter(".select2-result:not(.select2-selected)").length||(!e||e&&!e.more&&0===this.results.find(".select2-no-results").length)&&E(r.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+T(r.opts.formatNoMatches,r.opts.element,r.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-c(this.search)},resizeSearch:function(){var e,t,s,i,n,o=c(this.search);e=v(this.search)+10,t=this.search.offset().left,s=this.selection.width(),i=this.selection.offset().left,n=s-(t-i)-o,n<e&&(n=s-o),n<40&&(n=s-o),n<=0&&(n=e),this.search.width(Math.floor(n))},getVal:function(){var e;return this.select?(e=this.select.val(),null===e?[]:e):(e=this.opts.element.val(),r(e,this.opts.separator))},setVal:function(t){var s;this.select?this.select.val(t):(s=[],e(t).each(function(){n(this,s)<0&&s.push(this)}),this.opts.element.val(0===s.length?"":s.join(this.opts.separator)))},buildChangeDetails:function(e,t){t=t.slice(0),e=e.slice(0);for(var s=0;s<t.length;s++)for(var i=0;i<e.length;i++)a(this.opts.id(t[s]),this.opts.id(e[i]))&&(t.splice(s,1),s>0&&s--,e.splice(i,1),i--);return{added:t,removed:e}},val:function(s,i){var n,o=this;if(0===arguments.length)return this.getVal();if(n=this.data(),n.length||(n=[]),!s&&0!==s)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(i&&this.triggerChange({added:this.data(),removed:n}));if(this.setVal(s),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),i&&this.triggerChange(this.buildChangeDetails(n,this.data()));else{if(this.opts.initSelection===t)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var s=e.map(t,o.id);o.setVal(s),o.updateSelection(t),o.clearSearch(),i&&o.triggerChange(o.buildChangeDetails(n,o.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],s=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(s.opts.id(e(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(t,s){var i,n,o=this;return 0===arguments.length?this.selection.children(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get():(n=this.data(),t||(t=[]),i=e.map(t,function(e){return o.opts.id(e)}),this.setVal(i),this.updateSelection(t),this.clearSearch(),s&&this.triggerChange(this.buildChangeDetails(n,this.data())),void 0)}}),e.fn.select2=function(){var s,i,o,a,r,c=Array.prototype.slice.call(arguments,0),l=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],h=["opened","isFocused","container","dropdown"],u=["val","data"],d={search:"externalSearch"};return this.each(function(){if(0===c.length||"object"==typeof c[0])s=0===c.length?{}:e.extend({},c[0]),s.element=e(this),"select"===s.element.get(0).tagName.toLowerCase()?r=s.element.prop("multiple"):(r=s.multiple||!1,"tags"in s&&(s.multiple=r=!0)),i=r?new window.Select2["class"].multi:new window.Select2["class"].single,i.init(s);else{if("string"!=typeof c[0])throw"Invalid arguments to select2 plugin: "+c;if(n(c[0],l)<0)throw"Unknown method: "+c[0];if(a=t,i=e(this).data("select2"),i===t)return;if(o=c[0],"container"===o?a=i.container:"dropdown"===o?a=i.dropdown:(d[o]&&(o=d[o]),a=i[o].apply(i,c.slice(1))),n(c[0],h)>=0||n(c[0],u)>=0&&1==c.length)return!1}}),a===t?this:a},e.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,s,i){var n=[];return b(e.text,s.term,n,i),n.join("")},formatSelection:function(e,s,i){return e&&e.text!==t?i(e.text):t},sortResults:function(e,t,s){return e},formatResultCssClass:function(e){return e.css},formatSelectionCssClass:function(e,s){return t},minimumResultsForSearch:0,minimumInputLength:0,canAddItem:!1,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e==t?null:e.id},matcher:function(e,t){return i(""+t).toUpperCase().indexOf(i(""+e).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:I,escapeMarkup:C,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(e){return e},adaptDropdownCssClass:function(e){return null},nextSearchTerm:function(e,s){return t},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(e){var t="ontouchstart"in window||window.navigator.msMaxTouchPoints>0;return!t||!(e.opts.minimumResultsForSearch<0)}},e.fn.select2.locales=[],e.fn.select2.locales.en={formatMatches:function(e){return 1===e?"One result is available, press enter to select it.":e+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No items found."},formatAjaxError:function(e,t,s){return"Loading failed"},formatInputTooShort:function(e,t){var s=t-e.length;return"Enter "+s+" or more characters."},formatInputTooLong:function(e,t){var s=e.length-t;return"Please delete "+s+" character"+(1==s?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(e){return"Loading more results…"},formatSearching:function(){return"Searching…"}},e.extend(e.fn.select2.defaults,e.fn.select2.locales.en),e.fn.select2.ajaxDefaults={transport:e.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:S,local:y,tags:x},util:{debounce:u,markMatch:b,escapeMarkup:C,stripDiacritics:i},"class":{"abstract":k,single:R,multi:H}}}}(jQuery)}();
!function(){angular.module("marcuraUI.services",[]),angular.module("marcuraUI.components",["marcuraUI.services"]),angular.module("marcuraUI",["marcuraUI.components"]),angular.element(document).ready(function(){$.fn.modal&&($.fn.modal.Constructor.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal"),0===$(".modal").length&&t.$body.removeClass("modal-open")})}),window.Trix&&(window.Trix.config.textAttributes.underline={tagName:"span",style:{textDecoration:"underline"},inheritable:!0,parser:function(t){return"underline"===window.getComputedStyle(t).textDecoration}},window.Trix.config.toolbar.getDefaultHTML=function(){return'            <div class="trix-button-row">                <span class="trix-button-group trix-button-group--text-tools" data-trix-button-group="text-tools">                    <div class="trix-button trix-button--icon"                        data-trix-attribute="bold" data-trix-key="b">                        <i class="fa fa-bold"></i>                    </div>                    <div class="trix-button trix-button--icon"                        data-trix-attribute="italic" data-trix-key="i">                        <i class="fa fa-italic"></i>                    </div>                    <div class="trix-button trix-button--icon"                        data-trix-attribute="underline">                        <i class="fa fa-underline"></i>                    </div>                    <!--<div class="trix-button trix-button--icon"                        data-trix-attribute="strike">                        <i class="fa fa-strikethrough"></i>                    </div>-->                </span>            </div>'})}),String.prototype.endsWith||(String.prototype.endsWith=function(t,i){var r=this.toString();("number"!=typeof i||!isFinite(i)||Math.floor(i)!==i||i>r.length)&&(i=r.length),i-=t.length;var n=r.lastIndexOf(t,i);return n!==-1&&n===i})}();
!function(){angular.module("marcuraUI.components").directive("maButton",["MaHelper","$sce",function(n,i){return{restrict:"E",scope:{text:"@",kind:"@",leftIcon:"@",rightIcon:"@",isDisabled:"=",click:"&",mousedown:"&",mouseup:"&",focus:"&",blur:"&",size:"@",modifier:"@",isLoading:"="},replace:!0,template:function(){var n='                <button class="ma-button"                    ng-click="onClick()"                    ng-mousedown="onMousedown()"                    ng-mouseup="onMouseup()"                    ng-focus="onFocus()"                    ng-blur="onBlur()"                    ng-disabled="isDisabled"                    ng-class="{                        \'ma-button-link\': isLink(),                        \'ma-button-has-left-icon\': hasLeftIcon,                        \'ma-button-has-right-icon\': hasRightIcon,                        \'ma-button-is-disabled\': isDisabled,                        \'ma-button-has-text\': hasText(),                        \'ma-button-is-loading\': isLoading                    }">                    <span class="ma-button-spinner" ng-if="isLoading">                        <div class="ma-pace">                            <div class="ma-pace-activity"></div>                        </div>                    </span>                    <span ng-if="leftIcon" class="ma-button-icon ma-button-icon-left">                        <i class="fa fa-{{leftIcon}}"></i>                        <span class="ma-button-rim" ng-if="isLink()"></span>                    </span><span class="ma-button-text" ng-bind-html="getText()"></span><span ng-if="rightIcon" class="ma-button-icon ma-button-icon-right">                        <i class="fa fa-{{rightIcon}}"></i>                        <span class="ma-button-rim" ng-if="isLink()"></span>                    </span>                    <span class="ma-button-rim" ng-if="!isLink()"></span>                </button>';return n},link:function(s,t){s.hasLeftIcon=!1,s.hasRightIcon=!1,s.size=s.size?s.size:"md",s.hasLeftIcon=!!s.leftIcon,s.hasRightIcon=!!s.rightIcon,t.addClass("ma-button-"+s.size),s.isFocused=!1;var o=function(i){if(!n.isNullOrWhiteSpace(i)){i=i.split(" ");for(var o=0;o<i.length;o++)t.removeClass("ma-button-"+i[o])}var a="";n.isNullOrWhiteSpace(s.modifier)||(a=s.modifier.split(" "));for(var e=0;e<a.length;e++)t.addClass("ma-button-"+a[e])};s.onClick=function(){s.isDisabled||s.isLoading||s.click()},s.onMousedown=function(){s.isDisabled||s.isLoading||s.mousedown()},s.onMouseup=function(){s.isDisabled||s.isLoading||s.mouseup()},s.onFocus=function(){s.isDisabled||(s.isFocused=!0,s.focus())},s.onBlur=function(){s.isDisabled||(s.isFocused=!1,s.blur())},s.isLink=function(){return"link"===s.kind},s.hasText=function(){return!!s.text},s.getText=function(){return i.trustAsHtml(s.text?s.text:n.html.nbsp)},s.$watch("modifier",function(n,i){n!==i&&o(i)}),s.$watch("isDisabled",function(n,i){n!==i&&n&&(s.isFocused=!1)}),o()}}}])}();
!function(){angular.module("marcuraUI.components").directive("maCheckBox",["MaHelper","$timeout","$parse","MaValidators",function(e,a,i,s){return{restrict:"E",scope:{text:"@",value:"=",isDisabled:"=",change:"&",size:"@",rtl:"=",isRequired:"=",validators:"=",instance:"="},replace:!0,template:function(){var e='            <div class="ma-check-box{{cssClass}}"                ng-focus="onFocus()"                ng-blur="onBlur()"                ng-keypress="onKeypress($event)"                ng-click="onChange()"                ng-class="{                    \'ma-check-box-is-checked\': value === true,                    \'ma-check-box-is-disabled\': isDisabled,                    \'ma-check-box-has-text\': hasText,                    \'ma-check-box-rtl\': rtl,                    \'ma-check-box-is-focused\': isFocused,                    \'ma-check-box-is-invalid\': !isValid,                    \'ma-check-box-is-touched\': isTouched                }">                <span class="ma-check-box-text">{{text || \'&nbsp;\'}}</span>                <div class="ma-check-box-inner"></div>                <i class="ma-check-box-icon fa fa-check" ng-show="value === true"></i>            </div>';return e},link:function(n,t,c){var o=n.validators?angular.copy(n.validators):[],l=n.isRequired,u=!1,r=function(){n.isDisabled?t.removeAttr("tabindex"):t.attr("tabindex","0")},d=function(){n.hasText=!!n.text};n._size=n.size?n.size:"xs",n.cssClass=" ma-check-box-"+n._size,n.isFocused=!1,n.isValid=!0,n.isTouched=!1;var h=function(){var e=null,a=null,i=n.$parent,s=c.value;for(s.indexOf(".")!==-1&&(e=s.split("."),s=e[0]);i&&!a;)i.hasOwnProperty(s)?a=i:i=i.$parent;return a||n.$parent},v=h(),f=function(){n.isValid=!0,n.isTouched=!0;var e=n.value===!1?null:n.value;if(o&&o.length)for(var a=0;a<o.length;a++){var i=o[a];if(!i.validate("IsNotEmpty"===i.name?e:n.value)){n.isValid=!1;break}}};n.onChange=function(){if(!n.isDisabled){var e=i(c.value),s=e.assign,t=!e(v);n.value=t,s(v,t),f(),a(function(){n.change({maValue:n.value})})}},n.onFocus=function(){n.isDisabled||(n.isFocused=!0)},n.onBlur=function(){n.isDisabled||(n.isFocused=!1,f())},n.onKeypress=function(a){a.keyCode===e.keyCode.space&&(a.preventDefault(),n.isDisabled||n.onChange())},n.$watch("isDisabled",function(e,a){e!==a&&(e&&(n.isFocused=!1),r())}),n.$watch("text",function(e,a){e!==a&&d()});for(var b=0;b<o.length;b++)if("IsNotEmpty"===o[b].name){u=!0;break}!u&&l&&o.unshift(s.isNotEmpty()),u&&(l=!0),n.instance&&(n.instance.isInitialized=!0,n.instance.isEditor=function(){return!0},n.instance.isValid=function(){return n.isValid},n.instance.validate=function(){f()}),r(),d()}}}])}();
!function(){angular.module("marcuraUI.components").provider("maDateBoxConfiguration",function(){this.$get=function(){return this}}).directive("maDateBox",["$timeout","MaDate","MaHelper","MaValidators",function(e,a,t,i){return{restrict:"E",scope:{id:"@",value:"=",timeZone:"=",culture:"=",isDisabled:"=",isRequired:"=",isLoading:"=",change:"&",validate:"&",canReset:"=",displayFormat:"=",format:"=",hasTime:"=",parser:"=",validators:"=",instance:"=",min:"=",max:"=",changeTimeout:"=",placeholder:"@",modifier:"@",eventDates:"=",disabledDates:"=",message:"@"},replace:!0,template:function(e){var a='                <div class="ma-date-box" ng-class="{                        \'ma-date-box-has-time\': hasTime,                        \'ma-date-box-is-invalid\': !isValid,                        \'ma-date-box-is-disabled\': isDisabled,                        \'ma-date-box-is-focused\': isFocused,                        \'ma-date-box-is-touched\': isTouched,                        \'ma-date-box-can-reset\': canReset,                        \'ma-date-box-is-loading\': isLoading,                        \'ma-date-box-is-reset-disabled\': canReset && !isDisabled && !isResetEnabled(),                        \'ma-date-box-has-value\': hasValue()                    }">                    <div class="ma-date-box-inner">                        <input class="ma-date-box-date" type="text" id="{{id}}"                            placeholder="{{placeholder}}"                            ng-disabled="isDisabled"                            ng-keydown="onKeydown($event)"                            ng-keyup="onKeyup($event)"/><input class="ma-date-box-hour"                                maxlength="2"                                ng-disabled="isDisabled"                                ng-show="hasTime"                                ng-keyup="onKeyup($event)"                                ng-keydown="onTimeKeydown($event)"                                /><div class="ma-date-box-colon" ng-if="hasTime">:</div><input                                 class="ma-date-box-minute" type="text"                                maxlength="2"                                ng-disabled="isDisabled"                                ng-show="hasTime"                                ng-keyup="onKeyup($event)"                                ng-keydown="onTimeKeydown($event)"/>                        <i class="ma-date-box-icon fa fa-calendar"></i>                    </div>                    <ma-button class="ma-button-reset"                        ng-show="canReset" size="xs" modifier="simple"                        right-icon="times-circle"                        click="onReset()"                        is-disabled="!isResetEnabled()">                    </ma-button>                    <div class="ma-date-box-spinner" ng-if="isLoading && !isDisabled">                        <div class="ma-pace">                            <div class="ma-pace-activity"></div>                        </div>                    </div>                </div>';return a},controller:["$scope","maDateBoxConfiguration",function(e,a){e.configuration={},e.configuration.displayFormat=(e.displayFormat||a.displayFormat||"dd MMM yyyy").replace(/Y/g,"y").replace(/D/g,"d"),e.configuration.format=(e.format||a.format||"yyyy-MM-ddTHH:mm:ssZ").replace(/Y/g,"y").replace(/D/g,"d"),e.configuration.timeZone=(e.timeZone||a.timeZone||"Z").replace(/GMT/g,"")}],link:function(n,o){var s,l,r,d,u,c,m,f=null,v=n.configuration.displayFormat,p=n.configuration.format,b=n.configuration.timeZone,y=angular.element(o[0].querySelector(".ma-date-box-date")),h=angular.element(o[0].querySelector(".ma-date-box-hour")),g=angular.element(o[0].querySelector(".ma-date-box-minute")),x=a.createEmpty(),D=a.parseTimeZone(b),E=0,k=[],w=n.isRequired,T=new a(n.min),V=new a(n.max),C=null,q=Number(n.changeTimeout),F=0,M=0,S=0,N=[],R=function(e){return!x.isEqual(e)&&(n.isTouched=!0,!0)},K=function(){var e=y.val().trim(),t=""===e,i=Number(h.val()),n=Number(g.val()),o=a.createEmpty();return i<0||i>23||n<0||n>59?null:t?o:(o=new a(e),o.isEmpty()?null:(o.add(i,"hour"),o.add(n,"minute"),o.offset(E),o))},I=function(a){var t=null;a&&!a.isEmpty()?(t=a.copy().toUtc().add(D,"minute"),y.val(t.format(v)),h.val(t.format("HH")),g.val(t.format("mm")),s||(s=y.val())):(y.val(""),h.val("00"),g.val("00")),n.isFocused&&(ie(),oe(),u&&y.prop({selectionStart:F,selectionEnd:F}),c&&h.prop({selectionStart:M,selectionEnd:M}),m&&g.prop({selectionStart:S,selectionEnd:S}),e(function(){te(),ne()})),f&&f.setDate(t?t.toDate():null,!0)},O=function(){f&&(V=new a(n.max),V.isEmpty()&&(V=(new a).add(100,"year")),f.setMaxDate(V.toDate()))},Z=function(){f&&(T=new a(n.min),T.isEmpty()&&(T=(new a).subtract(100,"year")),f.setMinDate(T.toDate()))},B=function(e){var t=a.createEmpty();return e?t=n.parser?n.parser(e):a.parse(e,n.culture):t},L=function(e){e.hour(Number(h.val())).minute(Number(g.val())).second(0)},H=function(){E=D},G=function(e){var t=!1,i=new a(e).offset(D);if(n.disabledDates&&n.disabledDates.length)for(var o=0;o<n.disabledDates.length;o++){var s=new a(n.disabledDates[o]).offset(D);if(i.isEqual(s)){t=!0;break}}return t},A=function(){var i="ma-pika";if(!t.isNullOrWhiteSpace(n.modifier))for(var s=n.modifier.split(" "),l=0;l<s.length;l++)i+=" ma-pika-"+s[l];f=new Pikaday({field:angular.element(o[0].querySelector(".ma-date-box-icon"))[0],position:"bottom right",onSelect:function(){var t=new a(f.getDate());return t.offset(D),n.hasTime&&(L(t),H()),e(function(){z(t)}),R(t)?void Y(t):void I(t)},onDraw:function(){n.message&&$(f.el).append('<div class="ma-pika-message">'+n.message+"</div>")},disableDayFn:G,events:N,theme:i}),I(x),O(),Z()},W=function(){f&&f.destroy()},z=function(e,a){n.isValid=!0,C=null,a=void 0===a||a;var t=e?e.format(p):null;if(k&&k.length)for(var i=0;i<k.length;i++)if(!k[i].validate(t)){n.isValid=!1,C=k[i];break}a!==!1&&_(e)},U=function(){var e=!1;k=n.validators?angular.copy(n.validators):[];for(var a=0;a<k.length;a++)if("IsNotEmpty"===k[a].name){e=!0;break}!e&&w&&k.unshift(i.isNotEmpty()),e&&(w=!0),T.isEmpty()||k.push(i.isGreaterOrEqual(T,!0)),V.isEmpty()||k.push(i.isLessOrEqual(V,!0)),n.disabledDates&&n.disabledDates.length&&k.push({name:"IsDisabled",message:"Date is disabled.",validate:function(e){return!G(e)}})},Y=function(t){x=t||a.createEmpty(),n.value=t?t.format(p):null,e(function(){n.change({maValue:n.value})})},_=function(a){e(function(){n.validate({maValue:a?a.format(p):null})})},P=function(){n.isTouched=!0;var e=y.val().trim(),t=""===e,i=Number(h.val()),o=Number(g.val()),l=a.createEmpty();return i>=0&&i<=23&&o>=0&&o<=59?(l=B(e),l.offset(E),t&&x.isEmpty()?void z(null):t?(z(l),void(n.isValid&&(I(null),Y()))):l.isEmpty()?void(n.isValid=!1):(l.isEmpty()||!n.hasTime&&s!==e||(L(l),l.subtract(D-E,"minute")),z(l),R(l)?(l.isEmpty()||I(l),void(n.isValid&&Y(l))):void I(l))):void(n.isValid=!1)},j=function(){u=!0,c=!1,m=!1,n.onFocus()},J=function(){c=!0,u=!1,m=!1,n.onFocus()},Q=function(){m=!0,u=!1,c=!1,n.onFocus()},X=function(){u=!1,n.onBlur()},ee=function(){c=!1,n.onBlur()},ae=function(){m=!1,n.onBlur()},te=function(){ie(),$(".ma-date-box-date",o).on("focus",j),$(".ma-date-box-hour",o).on("focus",J),$(".ma-date-box-minute",o).on("focus",Q)},ie=function(){$(".ma-date-box-date",o).off("focus",j),$(".ma-date-box-hour",o).off("focus",J),$(".ma-date-box-minute",o).off("focus",Q)},ne=function(){oe(),$(".ma-date-box-date",o).on("blur",X),$(".ma-date-box-hour",o).on("blur",ee),$(".ma-date-box-minute",o).on("blur",ae)},oe=function(){$(".ma-date-box-date",o).off("blur",X),$(".ma-date-box-hour",o).off("blur",ee),$(".ma-date-box-minute",o).off("blur",ae)},se=function(e){if(!t.isNullOrWhiteSpace(e)){e=e.split(" ");for(var a=0;a<e.length;a++)o.removeClass("ma-date-box-"+e[a])}var i="";t.isNullOrWhiteSpace(n.modifier)||(i=n.modifier.split(" "));for(var s=0;s<i.length;s++)o.addClass("ma-date-box-"+i[s])},le=function(){if(N=[],n.eventDates&&n.eventDates.length)for(var e=0;e<n.eventDates.length;e++){var t=new a(n.eventDates[e]);N.push(t.format("ddd")+" "+t.format("MMM dd yyyy"))}f&&f._o&&(f._o.events=N,f.draw())};if(U(),n.isFocused=!1,n.isValid=!0,n.isTouched=!1,n.hasValue=function(){return(y.val()||"00"!==h.val()||"00"!==g.val())&&!n.isLoading},n.isResetEnabled=function(){return!n.isDisabled&&(y.val()||"00"!==h.val()||"00"!==g.val())},n.onFocus=function(){t.safeApply(function(){n.isFocused=!0})},n.onBlur=function(){d&&e.cancel(d),n.$apply(function(){n.isFocused=!1,P()})},n.onKeydown=function(e){e.keyCode!==t.keyCode.tab&&e.keyCode!==t.keyCode.shift&&(l=angular.element(e.target).val())},n.onKeyup=function(a){if(a.keyCode!==t.keyCode.tab&&a.keyCode!==t.keyCode.shift){var i=!1;r=angular.element(a.target).val(),l!==r&&(i=!0,n.isTouched=!0,H()),i&&q>0&&(F=y.prop("selectionStart"),M=h.prop("selectionStart"),S=g.prop("selectionStart"),d&&e.cancel(d),d=e(function(){P()},q))}},n.onTimeKeydown=function(e){$.inArray(e.keyCode,[t.keyCode.backspace,t.keyCode.tab,t.keyCode["delete"]])===-1&&37!==e.keyCode&&39!==e.keyCode&&(e.shiftKey||e.keyCode<48||e.keyCode>57)&&(e.keyCode<96||e.keyCode>105)&&e.preventDefault()},n.onReset=function(){n.isDisabled||(x=a.createEmpty(),n.isTouched=!0,z(null),Y(),I(null),y.focus())},n.value){var re=B(n.value);if(re.isEmpty())return;I(re),x=re,E=re.offset()}te(),ne(),e(function(){n.isDisabled||A(),o.removeAttr("id"),y.attr("id",n.id)}),n.$watch("value",function(e,t){if(null!==e||null!==t){var i=B(e);if(i.isEmpty()&&(x=a.createEmpty(),I(null)),!R(i))return void I(i);z(i,!1),I(i),x=i,E=i.offset()}}),n.$watch("isDisabled",function(e,a){e!==a&&(n.isDisabled?W():A())});var de=function(e,a,t){if(e!==a){var i=B(y.val().trim());i.offset(D),"max"===t?O():Z(),U();for(var o=[],s=0;s<k.length;s++)"IsGreaterOrEqual"!==k[s].name&&"IsLessOrEqual"!==k[s].name||o.push(k[s]);if(o.length){var l=i.format(p);for(!C||"IsGreaterOrEqual"!==C.name&&"IsLessOrEqual"!==C.name||(C=null,n.isValid=!0),s=0;s<o.length;s++)if(!o[s].validate(l)){n.isValid=!1,C=o[s];break}n.isValid||(n.isTouched=!0),_(i)}n.isValid&&R(i)&&Y(i)}};n.$watch("max",function(e,a){de(e,a,"max")}),n.$watch("min",function(e,a){de(e,a,"min")}),n.$watch("modifier",function(e,a){e!==a&&se(a)}),n.$watch("eventDates",function(e,a){n.isDisabled||angular.equals(e,a)||le()},!0),n.$watch("disabledDates",function(e,a){if(!n.isDisabled&&!angular.equals(e,a)){U();for(var t,i=0;i<k.length;i++)"IsDisabled"===k[i].name&&(t=k[i]);if(t){var o=B(y.val().trim());o.offset(D);var s=o.format(p);C&&C.name===t.name&&(C=null,n.isValid=!0),t.validate(s)||(n.isValid=!1,C=t),n.isValid||(n.isTouched=!0),_(o)}}},!0),se(),le(),n.instance&&(n.instance.isInitialized=!0,n.instance.isEditor=function(){return!0},n.instance.validate=function(){n.isTouched=!0;var e=K();return!e||w&&e.isEmpty()?void(n.isValid=!1):void z(e,!1)},n.instance.isValid=function(){return n.isValid},n.instance.failedValidator=function(){return C},n.instance.refresh=function(){var e=B(n.value);I(e),z(e,!1)})}}}])}();
!function(){angular.module("marcuraUI.components").directive("maGrid",["MaHelper",function(e){return{restrict:"E",transclude:!0,scope:{sortBy:"=",modifier:"@",isResponsive:"=",responsiveSize:"@",sort:"&"},replace:!0,template:function(){var e='            <div class="ma-grid">                <div class="ma-grid-inner"><ng-transclude></ng-transclude></div>            </div>';return e},controller:["$scope",function(e){e.componentName="maGrid"}],link:function(i,s){var n=i.responsiveSize?i.responsiveSize:"md",r=function(n){if(!e.isNullOrWhiteSpace(n)){n=n.split(" ");for(var r=0;r<n.length;r++)s.removeClass("ma-grid-"+n[r])}var o="";e.isNullOrWhiteSpace(i.modifier)||(o=i.modifier.split(" "));for(var a=0;a<o.length;a++)s.addClass("ma-grid-"+o[a])},o=function(e,i){var n;"boolean"==typeof i?(n="ma-grid-"+e,i===!0?s.addClass(n):s.removeClass(n)):i&&(s.removeClass(function(i,s){return(s.match(RegExp("ma-grid-"+e+"-.+","ig"))||[]).join(" ")}),s.addClass("ma-grid-"+e+"-"+i))};i.$watch("modifier",function(e,i){e!==i&&r(i)}),i.$watch("isResponsive",function(e,s){e!==s&&o("is-responsive",i.isResponsive)}),r(),o("is-responsive",i.isResponsive),i.isResponsive&&(i.$watch("responsiveSize",function(e,i){e!==i&&(n=e,o("responsive-size",n))}),o("responsive-size",n))}}}])}();
!function(){angular.module("marcuraUI.components").directive("maGridSort",["$timeout",function(r){return{require:"^^maGrid",restrict:"E",scope:{sortBy:"@"},replace:!0,template:function(){var r='            <div class="ma-grid-sort{{isVisible() ? \' ma-grid-sort-\' + direction : \'\'}}"                ng-click="sort()">                <i class="fa fa-sort-asc"></i>                <i class="fa fa-sort-desc"></i>            </div>';return r},link:function(t,o,s,a){var i,e=o.closest(".ma-grid-header-col"),n=function(){for(var r=null,o=t.$parent;o&&!r;)o.hasOwnProperty("componentName")&&"maGrid"===o.componentName?r=o:o=o.$parent;return r};t.sort=function(){if(i){var o="-"===i.sortBy.charAt(0);o=!o,i.sortBy=o?"-"+t.sortBy:t.sortBy,t.direction=o?"desc":"asc",r(function(){i.sort()})}};var c=function(r){return r?"-"===r.charAt(0)?r.substring(1):r:""};e.hasClass("ma-grid-header-col-sortable")||e.addClass("ma-grid-header-col-sortable"),r(function(){i=n(),c(i.sortBy)===t.sortBy&&(t.direction="-"===i.sortBy.charAt(0)?"desc":"asc")}),t.isVisible=function(){return!!i&&c(i.sortBy)===t.sortBy}}}}])}();
!function(){angular.module("marcuraUI.components").directive("maHtmlArea",["$timeout","MaHelper","MaValidators",function(i,a,e){return{restrict:"E",scope:{id:"@",value:"=",isDisabled:"=",isRequired:"=",instance:"=",validators:"=",focus:"&",blur:"&",change:"&"},replace:!0,template:function(){var i="            <div class=\"ma-html-area\"                ng-class=\"{                    'ma-html-area-is-disabled': isDisabled,                    'ma-html-area-is-focused': isFocused,                    'ma-html-area-is-invalid': !isValid,                    'ma-html-area-is-touched': isTouched                }\">                <trix-editor ng-disabled=\"isDisabled\">                </trix-editor>            </div>";return i},link:function(t,n,l){var u,r,s=angular.element(n[0].querySelector(".ma-html-area trix-editor")),o=angular.element(n[0].querySelectorAll(".ma-html-area .trix-button")),c=t.validators?angular.copy(t.validators):[],d=t.isRequired,f=!1,m=!1;t._value=t.value||"",t.isTouched=!1;for(var v=function(i){u.loadHTML(i)},h=function(){return s.html()},b=function(){s[0].contentEditable=!t.isDisabled,t.isDisabled?o.attr("disabled",!0):o.removeAttr("disabled")},p=function(){var i=h();if(t.isValid=!0,c&&c.length)for(var a=0;a<c.length;a++)if(!c[a].validate(i)){t.isValid=!1;break}},g=0;g<c.length;g++)if("IsNotEmpty"===c[g].name){f=!0;break}!f&&d&&c.unshift(e.isNotEmpty()),f&&(d=!0),s.on("trix-initialize",function(){u=s[0].editor,b(),v(t.value)}),s.on("trix-change",function(){p(),t.isValid&&a.safeApply(function(){m=!0,t.value=h(),i(function(){t.change({maValue:t.value})})})}),s.on("trix-focus",function(){a.safeApply(function(){t.isFocused=!0,r=t.value,t.focus({maValue:t.value})})}),s.on("trix-blur",function(){a.safeApply(function(){t.isFocused=!1,t.isTouched=!0,p(),t.blur({maValue:t.value,maOldValue:r,maHasValueChanged:r!==t.value})})}),t.$watch("value",function(i,a){if(i!==a){if(m)return void(m=!1);t.isValid=!0,v(t.value)}}),t.$watch("isDisabled",function(i,a){i!==a&&b()}),i(function(){$('[for="'+t.id+'"]').on("click",function(){s.focus()})}),t.instance&&(t.instance.isInitialized=!0,t.instance.isEditor=function(){return!0},t.instance.isValid=function(){return t.isValid},t.instance.validate=function(){t.isTouched=!0,p()})}}}])}();
!function(){angular.module("marcuraUI.components").directive("maLabel",[function(){return{restrict:"E",transclude:!0,scope:{cutOverflow:"=","for":"@",isRequired:"=",hasWarning:"=",hasHint:"="},replace:!0,template:function(){var a='                <div class="ma-label" ng-class="{                    \'ma-label-is-required\': isRequired,                    \'ma-label-has-content\': hasContent,                    \'ma-label-has-warning\': hasWarning,                    \'ma-label-has-hint\': hasHint,                    \'ma-label-cut-overflow\': cutOverflow                }">                    <label class="ma-label-text" for="{{for}}"><ng-transclude></ng-transclude></label><!--                    --><div class="ma-label-star" ng-if="isRequired">&nbsp;<i class="fa fa-star"></i></div><!--                    --><div class="ma-label-warning" ng-if="hasWarning">&nbsp;                    <i class="fa fa-exclamation-triangle"></i></div><div class="ma-label-hint" ng-if="hasHint">&nbsp;<div class="ma-label-hint-inner"><i class="fa fa-question"></i><div></div>                </div>';return a},link:function(a,n){a.hasContent=n.find("span").contents().length>0}}}])}();
!function(){angular.module("marcuraUI.components").directive("maMessage",[function(){return{restrict:"E",transclude:!0,scope:{type:"@",state:"@",size:"@",textAlign:"@",hasIcon:"="},replace:!0,template:function(){var s="                <div class=\"ma-message{{cssClass}}\">                    <div class=\"ma-message-icon\" ng-if=\"_hasIcon\">                        <i class=\"fa\" ng-class=\"{                            'fa-info-circle': _state === 'info',                            'fa-check-circle': _state === 'success',                            'fa-exclamation-triangle': _state === 'warning',                            'fa-times-circle': _state === 'danger'                        }\"></i>                    </div>                    <div class=\"ma-message-text\"><ng-transclude></ng-transclude></div>                </div>";return s},link:function(s){var a=s.type||"message",e=s.size?s.size:"sm";s._hasIcon=s.hasIcon!==!1;var t=function(){s._state=s.state||"default"},n=function(){s.cssClass=" ma-message-"+a+" ma-message-"+s._state+" ma-message-"+e,s.textAlign&&(s.cssClass+=" ma-message-text-align-"+s.textAlign),s._hasIcon&&(s.cssClass+=" ma-message-has-icon")};s.$watch("state",function(s,a){s!==a&&(t(),n())}),t(),n()}}}])}();
!function(){angular.module("marcuraUI.components").directive("maMultiCheckBox",["$timeout","MaValidators",function(e,i){return{restrict:"E",scope:{items:"=",itemTemplate:"=",itemTextField:"@",itemValueField:"@",value:"=",change:"&",isDisabled:"=",isRequired:"=",validators:"=",instance:"="},replace:!0,template:function(){var e='                <div class="ma-multi-check-box" ng-class="{                        \'ma-multi-check-box-is-disabled\': isDisabled,                        \'ma-multi-check-box-is-invalid\': !isValid,                        \'ma-multi-check-box-is-touched\': isTouched                    }">                    <div class="ma-multi-check-box-item" ng-repeat="item in items">                        <div class="ma-multi-check-box-background" ng-click="onChange(item)"></div>                        <ma-check-box                            size="sm"                            value="getItemMetadata(item).isSelected"                            is-disabled="isDisabled">                        </ma-check-box><div class="ma-multi-check-box-text">{{getItemText(item)}}</div>                    </div>                </div>';return e},link:function(t,a){var l=t.itemTextField||t.itemValueField,n=t.validators?angular.copy(t.validators):[],s=t.isRequired,c=!1,m={};t.isFocused=!1,t.isValid=!0,t.isTouched=!1;var u=function(e){if(t.isValid=!0,n&&n.length)for(var i=0;i<n.length;i++)if(!n[i].validate(e)){t.isValid=!1;break}},d=function(){if(t.value&&t.value.length&&t.items&&t.items.length)for(var e=0;e<t.value.length;e++)for(var i=0;i<t.items.length;i++)l?t.itemValueField&&t.items[i][t.itemValueField]===t.value[e][t.itemValueField]&&(t.getItemMetadata(t.items[i]).isSelected=!0):t.items[i]===t.value[e]&&(t.getItemMetadata(t.items[i]).isSelected=!0)};t.getItemMetadata=function(e){var i=l?e[t.itemValueField]:e;return m[i]||(m[i]={},m[i].item=e),m[i]},t.getItemText=function(e){return t.itemTemplate?t.itemTemplate(e):l?t.itemTextField?e[t.itemTextField]:void 0:e},t.onChange=function(i){if(!t.isDisabled){var a=t.value,l=[],n=t.getItemMetadata(i);n.isSelected=!n.isSelected;for(var s in m)m.hasOwnProperty(s)&&m[s].isSelected&&l.push(m[s].item);t.value=l.length?l:null,e(function(){u(t.value),t.change({maValue:t.value,maOldValue:a})})}},t.$watch("value",function(e,i){angular.equals(e,i)||d()}),e(function(){d()});for(var o=0;o<n.length;o++)if("IsNotEmpty"===n[o].name){c=!0;break}!c&&s&&n.unshift(i.isNotEmpty()),c&&(s=!0),t.instance&&(t.instance.isInitialized=!0,t.instance.isEditor=function(){return!0},t.instance.isValid=function(){return t.isValid},t.instance.validate=function(){u(t.value)})}}}])}();
!function(){angular.module("marcuraUI.components").directive("maPager",["$timeout",function(e){return{restrict:"E",scope:{page:"=",totalItems:"=",visiblePages:"=",showItemsPerPage:"=",itemsPerPageNumbers:"=",itemsPerPageText:"@",itemsPerPage:"=",change:"&"},replace:!0,template:function(){var e='<div class="ma-pager" ng-class="{                \'ma-pager-has-pager\': _hasPager            }">                <div class="ma-pager-items-per-page" ng-if="_showItemsPerPage">                    <div class="ma-pager-items-per-page-text" ng-show="itemsPerPageText">{{itemsPerPageText}}</div><ma-select-box                        type="number"                        items="_itemsPerPageNumbers"                        value="_itemsPerPage"                        change="itemsPerPageChange(maValue, maOldValue)">                    </ma-select-box>                </div><div class="ma-pager-pager">                    <div class="ma-pager-start">                        <ma-button                            class="ma-button-first"                            text="First"                            size="xs"                            modifier="default"                            click="firstClick()"                            is-disabled="_page <= 1"                        ></ma-button><ma-button                            class="ma-button-previous"                            text="Previous"                            size="xs"                            modifier="default"                            click="previousClick()"                            is-disabled="_page <= 1">                        </ma-button>                    </div                    ><div class="ma-pager-middle">                        <ma-button                            class="ma-button-previous-range"                            text="..."                            size="xs"                            modifier="default"                            click="previousRangeClick()"                            is-disabled="isFirstRange"                        ></ma-button><div class="ma-pager-pages"><ma-button                            ng-repeat="rangePage in rangePages"                            class="ma-button-page"                            text="{{rangePage}}"                            size="xs"                            modifier="{{_page === rangePage ? \'selected\' : \'default\'}}"                            click="pageClick(rangePage)"></div></ma-button                        ><ma-button                            class="ma-button-next-range"                            text="..."                            size="xs"                            modifier="default"                            click="nextRangeClick()"                            is-disabled="isLastRange"                        ></ma-button>                    </div                    ><div class="ma-pager-end">                        <ma-button                            class="ma-button-next"                            text="Next"                            size="xs"                            modifier="default"                            click="nextClick()"                            is-disabled="_page >= totalPages"                        ></ma-button><ma-button                            class="ma-button-last"                            text="Last"                            size="xs"                            modifier="default"                            click="lastClick()"                            is-disabled="_page >= totalPages">                        </ma-button>                    </div>                </div>            </div>';return e},link:function(a){a._page=a.page,a._showItemsPerPage=a.showItemsPerPage!==!1,a._itemsPerPageNumbers=[25,50,75,100],a._itemsPerPage=25,a.hasItemsPerPageChanged=!1,a._totalItems=a.totalItems>=0?a.totalItems:0;var t=function(){a.totalPages=Math.ceil(a._totalItems/a._itemsPerPage)},s=function(){a._showItemsPerPage&&a.itemsPerPage&&(a._itemsPerPage=a.itemsPerPage)},i=function(){a._showItemsPerPage&&angular.isArray(a.itemsPerPageNumbers)&&(a._itemsPerPageNumbers=a.itemsPerPageNumbers)},g=function(){a._visiblePages=a.visiblePages>1?a.visiblePages:5,a.totalPages<a._visiblePages&&(a._visiblePages=a.totalPages||1),a.rangePages=[],a.range=Math.ceil(a._page/a._visiblePages)-1,a.isFirstRange=0===a.range,a.isLastRange=a.range===Math.ceil(a.totalPages/a._visiblePages)-1;for(var e=a.range*a._visiblePages,t=1;t<=a._visiblePages&&e+t<=a.totalPages;t++)a.rangePages.push(e+t)},r=function(){a._hasPager=!a._showItemsPerPage||a.totalPages*a._itemsPerPage>a._itemsPerPage},n=function(){if(a.page!==a._page||a.hasItemsPerPageChanged){a.page=a._page||null,g();var t={maPage:a.page};a._showItemsPerPage&&(t.maItemsPerPage=a._itemsPerPage,a.hasItemsPerPageChanged=!1,void 0!==a.itemsPerPage&&(a.itemsPerPage=t.maItemsPerPage)),e(function(){a.change(t)})}};a.itemsPerPageChange=function(e,t){a._itemsPerPage=e,a.hasItemsPerPageChanged=!0;a.totalPages;a.totalPages=Math.ceil(a._totalItems/a._itemsPerPage);var s=t*a.page-t+1;a._page=Math.ceil(s/e),r(),n()},a.firstClick=function(){a._page=1,n()},a.previousClick=function(){a._page=a._page<=1?1:a._page-1,n()},a.nextClick=function(){a._page=a._page>=a.totalPages?1:a._page+1,n()},a.lastClick=function(){a._page=a.totalPages,n()},a.pageClick=function(e){a._page=e,n()},a.previousRangeClick=function(){a._page=a.range*a._visiblePages,n()},a.nextRangeClick=function(){a._page=a.range*a._visiblePages+a._visiblePages+1,n()},a.$watch("totalItems",function(e,s){if(e!==s){if(a._totalItems=a.totalItems<0?0:a.totalItems,t(),0===a._totalItems||a._totalItems<=a._itemsPerPage)return a._page=1,n(),void r();g(),r()}}),a.$watch("visiblePages",function(e,a){e!==a&&g()}),a.$watch("page",function(e,t){if(e!==t){var s=a.page;s<1?s=1:s>a.totalPages&&(s=a.totalPages),a._page=s||1,g(),r()}}),a.$watch("itemsPerPageNumbers",function(e,a){angular.equals(e,a)||i()}),a.$watch("itemsPerPage",function(e,a){e!==a&&(s(),r())}),i(),s(),t(),g(),r()}}}])}();
!function(){angular.module("marcuraUI.components").directive("maProgress",[function(){return{restrict:"E",scope:{steps:"=",currentStep:"="},replace:!0,template:function(){var e='            <div class="ma-progress">                <div class="ma-progress-inner">                    <div class="ma-progress-background"></div>                    <div class="ma-progress-bar" ng-style="{                        width: (calculateProgress() + \'%\')                    }">                    </div>                    <div class="ma-progress-steps">                        <div class="ma-progress-step"                            ng-style="{                                left: (calculateLeft($index) + \'%\')                            }"                            ng-repeat="step in steps"                            ng-class="{                                \'ma-progress-step-is-current\': isCurrentStep($index)                            }">                            <div class="ma-progress-text">{{$index + 1}}</div>                        </div>                    </div>                </div>                <div class="ma-progress-labels">                    <div ng-repeat="step in steps"                        class="ma-progress-label">                        {{step.text}}                    </div>                </div>            </div>';return e},link:function(e){e.calculateLeft=function(s){return 100/(e.steps.length-1)*s},e.calculateProgress=function(){return e.currentStep?e.currentStep>e.steps.length?100:100/(e.steps.length-1)*(e.currentStep-1):0},e.isCurrentStep=function(s){return s+1<=e.currentStep}}}}])}();
!function(){angular.module("marcuraUI.components").directive("maRadioBox",["MaHelper","$timeout","$sce","MaValidators",function(e,i,a,t){var s={};return{restrict:"E",scope:{item:"=",itemTemplate:"=",itemTextField:"@",itemValueField:"@",value:"=",isDisabled:"=",hideText:"=",change:"&",size:"@",isRequired:"=",validators:"=",instance:"=",id:"@",modifier:"@"},replace:!0,template:function(){var e='            <div class="ma-radio-box{{cssClass}}"                ng-focus="onFocus()"                ng-blur="onBlur()"                ng-keypress="onKeypress($event)"                ng-click="onChange()"                ng-class="{                    \'ma-radio-box-is-checked\': isChecked(),                    \'ma-radio-box-is-disabled\': isDisabled,                    \'ma-radio-box-has-text\': hasText(),                    \'ma-radio-box-is-focused\': isFocused,                    \'ma-radio-box-is-invalid\': !isValid,                    \'ma-radio-box-is-touched\': isTouched                }">                <span class="ma-radio-box-text" ng-bind-html="getItemText()"></span>                <div class="ma-radio-box-inner"></div>                <i class="ma-radio-box-icon" ng-show="isChecked()"></i>            </div>';return e},link:function(n,l,o){var d=null,r=!n.itemTextField&&!n.itemValueField,u=n.validators?angular.copy(n.validators):[],c=n.isRequired,m=!1,f=function(i){if(!e.isNullOrWhiteSpace(i)){i=i.split(" ");for(var a=0;a<i.length;a++)l.removeClass("ma-radio-box-"+i[a])}var t="";e.isNullOrWhiteSpace(n.modifier)||(t=n.modifier.split(" "));for(var s=0;s<t.length;s++)l.addClass("ma-radio-box-"+t[s])},v=function(){n.isDisabled?l.removeAttr("tabindex"):l.attr("tabindex","0")},h=function(){var e=null,i=n.$parent,a=o.value;for(a.indexOf(".")!==-1&&(d=a.split("."),a=d[0]);i&&!e;)i.hasOwnProperty(a)?e=i:i=i.$parent;return e},b=h();n._size=n.size?n.size:"xs",n.cssClass=" ma-radio-box-"+n._size,n.isFocused=!1,n.isValid=!0,n.isTouched=!1,n.id&&(s[n.id]||(s[n.id]=[]),s[n.id].push(n));var p=function(e){if(s[n.id])for(var i=0;i<s[n.id].length;i++){var a=s[n.id][i];a.isTouched=!0,a.validateThis(a.value)}else n.isTouched=!0,n.validateThis(e)};n.validateThis=function(e){if(n.isValid=!0,u&&u.length)for(var i=0;i<u.length;i++)if(!u[i].validate(e)){n.isValid=!1;break}},n.getItemText=function(){if(n.hideText)return e.html.nbsp;var i;return n.itemTemplate?i=n.itemTemplate(n.item):r?i=n.item:n.itemTextField&&(i=n.item[n.itemTextField]),angular.isString(i)&&i||(i=e.html.nbsp),a.trustAsHtml(i)},n.hasText=function(){return n.getItemText()!==e.html.nbsp},n.isChecked=function(){return r?n.item===n.value:!!n.itemValueField&&(n.item&&n.value&&n.item[n.itemValueField]===n.value[n.itemValueField])},n.onChange=function(){if(!n.isDisabled){var a,t=n.value;if(n.value=n.item,b&&d){a=b;for(var s=0;s<d.length;s++)a=a[d[s]];a=n.item}else a=b[o.value],b[o.value]=n.item;var l=!0;l=r?t!==n.item:n.itemValueField?!t&&!e.isNullOrWhiteSpace(n.item[n.itemValueField])||t[n.itemValueField]!==n.item[n.itemValueField]:!(t||!n.item)||JSON.stringify(t)===JSON.stringify(n.item),l&&i(function(){p(n.value),n.change({maValue:n.item,maOldValue:t})})}},n.onFocus=function(){n.isDisabled||(n.isFocused=!0)},n.onBlur=function(){n.isDisabled||(n.isFocused=!1,p(n.value))},n.onKeypress=function(i){i.keyCode===e.keyCode.space&&(i.preventDefault(),n.isDisabled||n.isChecked()||n.onChange())},n.$watch("isDisabled",function(e,i){e!==i&&(e&&(n.isFocused=!1),v())}),n.$watch("modifier",function(e,i){e!==i&&f(i)});for(var x=0;x<u.length;x++)if("IsNotEmpty"===u[x].name){m=!0;break}!m&&c&&u.unshift(t.isNotEmpty()),m&&(c=!0),n.instance&&(n.instance.isInitialized=!0,n.instance.isEditor=function(){return!0},n.instance.isValid=function(){return n.isValid},n.instance.validate=function(){p(n.value)}),i(function(){n.id&&l.removeAttr("id"),f()}),v()}}}])}();
!function(){angular.module("marcuraUI.components").directive("maRadioButton",["$timeout","MaValidators","MaHelper",function(e,i,t){return{restrict:"E",scope:{items:"=",itemTemplate:"=",itemTextField:"@",itemValueField:"@",value:"=",change:"&",isDisabled:"=",isRequired:"=",validators:"=",instance:"=",canUnselect:"="},replace:!0,template:function(){var e='                <div class="ma-radio-button" ng-class="{                        \'ma-radio-button-is-disabled\': isDisabled,                        \'ma-radio-button-is-invalid\': !isValid,                        \'ma-radio-button-is-touched\': isTouched,                        \'ma-radio-button-can-unselect\': canUnselect                    }">                    <div class="ma-radio-button-item" ng-class="{                            \'ma-radio-button-item-is-selected\': isItemSelected(item)                        }" ng-style="{ width: (100 / items.length) + \'%\' }"                        ng-repeat="item in items">                        <ma-button                            class="ma-button-radio"                            text="{{getItemText(item)}}"                            modifier="simple"                            size="xs"                            is-disabled="isDisabled"                            click="onChange(item)">                        </ma-button>                    </div>                </div>';return e},link:function(a,n){var l=a.itemTextField||a.itemValueField,s=a.validators?angular.copy(a.validators):[],d=a.isRequired,u=!1;a.isFocused=!1,a.isValid=!0,a.isTouched=!1;var m=function(e){if(a.isValid=!0,s&&s.length)for(var i=0;i<s.length;i++)if(!s[i].validate(e)){a.isValid=!1;break}};a.getItemText=function(e){return a.itemTemplate?a.itemTemplate(e):l?a.itemTextField?e[a.itemTextField]:void 0:e},a.isItemSelected=function(e){return l?!!a.itemValueField&&(e&&a.value&&e[a.itemValueField]===a.value[a.itemValueField]):e===a.value},a.onChange=function(i){if(!a.isDisabled){var n=a.value,s=!0;a.value=i,s=l?a.itemValueField?!(!t.isNullOrUndefined(n)||t.isNullOrUndefined(i[a.itemValueField]))||n[a.itemValueField]!==i[a.itemValueField]:!(!t.isNullOrUndefined(n)||t.isNullOrUndefined(i))||JSON.stringify(n)===JSON.stringify(i):n!==i,a.canUnselect&&!s&&(a.value=null),(s||a.canUnselect&&!s)&&e(function(){m(a.value),a.change({maValue:a.value,maOldValue:n})})}};for(var o=0;o<s.length;o++)if("IsNotEmpty"===s[o].name){u=!0;break}!u&&d&&s.unshift(i.isNotEmpty()),u&&(d=!0),a.instance&&(a.instance.isInitialized=!0,a.instance.isEditor=function(){return!0},a.instance.isValid=function(){return a.isValid},a.instance.validate=function(){m(a.value)})}}}])}();
!function(){angular.module("marcuraUI.services").factory("MaDate",[function(){function t(){var t,e=arguments;this._date=null,this._offset=0,this._isMaDate=!0,0===e.length?this._date=new Date:1===e.length?(t=e[0],i(t)?this._date=new Date(t.valueOf()):a(t)?(t.isEmpty()||(this._date=new Date(t.toDate().valueOf())),this._offset=t.offset()):"boolean"==typeof t?(this._date=new Date,this._offset=-this._date.getTimezoneOffset()):"string"==typeof t?(t=f(t),this._date=t.toDate(),this._offset=t.offset()):s(t)&&(this._date=new Date(t,0,1,0,0,0))):2===e.length?"string"==typeof e[0]&&"string"==typeof e[1]?(t=f(e[0],e[1]),this._date=t.toDate(),this._offset=t.offset()):s(e[0])&&s(e[1])&&(this._date=new Date(e[0],e[1],1,0,0,0)):3===e.length&&s(e[0])&&s(e[1])&&s(e[2])?this._date=new Date(e[0],e[1],e[2],0,0,0):4===e.length&&s(e[0])&&s(e[1])&&s(e[2])&&s(e[3])?this._date=new Date(e[0],e[1],e[2],e[3],0,0):5===e.length&&s(e[0])&&s(e[1])&&s(e[2])&&s(e[3])&&s(e[4])?this._date=new Date(e[0],e[1],e[2],e[3],e[4],0):6===e.length&&s(e[0])&&s(e[1])&&s(e[2])&&s(e[3])&&s(e[4])&&s(e[5])&&(this._date=new Date(e[0],e[1],e[2],e[3],e[4],e[5]))}var e=[{language:"en",full:["January","February","March","April","May","June","July","August","September","October","November","December"],"short":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}],r=[{language:"en",full:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"short":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}],n=[31,28,31,30,31,30,31,31,30,31,30,31],s=function(t){return t===parseInt(t,10)},i=function(t){return!!t&&("[object Date]"===Object.prototype.toString.call(t)&&t.getTime&&!isNaN(t.getTime()))},a=function(e){return e instanceof t||!!e&&e._isMaDate},u=function(t,e){return t.match(new RegExp(e,"i"))},o=function(r,s,i,a,o,h,f,c){var l,d=t.createEmpty();i=i.toString(),s=s.toString(),a=Number(a)||0,o=Number(o)||0,h=Number(h)||0,f=Number(f)||0,c=c||0,r<=99&&(r=r>=0&&r<30?"20"+r:"19"+r);var p=1===new Date(r,1,29).getMonth();if(p?n[1]=29:n[1]=28,null!==s.match(/([^\u0000-\u0080]|[a-zA-Z])$/)){for(var y=0;y<e.length;y++)for(var m=0;m<e[y].full.length;m++)if(u(s,e[y].full[m].slice(0,3))){l=m+1;break}if(!l)return d;s=l}if(s>12)return d;if(i>n[s-1])return d;var g=new Date(Number(r),Number(s-1),Number(i),a,o,h);return g.setMilliseconds(f),d=new t(g),d.offset(c),d},h=function(t,e,r){var n={day:t,month:e,isValid:!0};return"en-GB"===r&&e>12&&(n.isValid=!1),"en-US"===r&&(n.day=e,n.month=t,t>12&&(n.isValid=!1)),!r&&e>12&&(n.day=e,n.month=t),n},f=function(e,r){var n,s,u,f=t.createEmpty();if(i(e)||a(e))return e;if("string"!=typeof e)return f;if(e=e.replace(/\s+/g," "),n=/^\d{1,2}$/,null!==e.match(n)){var c=new Date;return o(c.getFullYear(),c.getMonth()+1,e)}if(n=/^(\d{1,2})(\/|-|\.|\s|)(\d{1,2})$/,null!==e.match(n))return s=n.exec(e),u=h(s[1],s[3],r),u.isValid?o((new Date).getFullYear(),u.month,u.day):f;if(n=/^(\d{1,2})(\/|-|\.|\s|)([^\u0000-\u0080]|[a-zA-Z]{1,12})(\/|-|\.|\s|)(\d{2,4}\b)/,null!==e.match(n))return s=n.exec(e),o(s[5],s[3],s[1]);if(n=/([^\u0000-\u0080]|[a-zA-Z]{3})(\s|)(\d{1,2})(,)(\s|)(\d{2,4})$/,null!==e.match(n))return s=n.exec(e),o(s[6],s[1],s[3]);if(n=/^([^\u0000-\u0080]|[a-zA-Z]{1,12})(\/|-|\.|\s|)(\d{1,2})(\/|-|\.|\s|)(\d{2,4}\b)/,null!==e.match(n))return s=n.exec(e),o(s[5],s[1],s[3]);if(n=/^(\d{4})(\/|-|\.|\s)(\d{1,2})(\/|-|\.|\s)(\d{1,2})$/,null!==e.match(n))return s=n.exec(e),o(s[1],s[3],s[5]);if(n=/^(\d{1,2})(\/|-|\.|\s|)(\d{1,2})(\/|-|\.|\s|)(\d{2,4})$/,null!==e.match(n))return s=n.exec(e),u=h(s[1],s[3],r),u.isValid?o(s[5],u.month,u.day):f;if(n=/^(\d{4})(\/|-|\.|\s|)([^\u0000-\u0080]|[a-zA-Z]{1,12})(\/|-|\.|\s|)(\d{1,2})$/,null!==e.match(n))return s=n.exec(e),o(s[1],s[3],s[5]);if(n=/^(\d{4})(\/|-|\.|\s)(\d{1,2})(\/|-|\.|\s)(\d{1,2})T(?:(?:([01]?\d|2[0-3]):)?([0-5]?\d):)?([0-5]?\d)(\.(\d{3}))?(?:Z|([+-])(2[0-3]|[01][0-9]):([0-5][0-9]))$/,null!==e.match(n)){s=n.exec(e);var l=0;return 14===s.length&&(l=60*(Number(s[12])||0)+(Number(s[13])||0),"-"===s[11]&&0!==l&&(l=-l)),o(s[1],s[3],s[5],s[6],s[7],s[8],s[10],l)}return f},c=function(t,e){for(var r="",n=0;n<e;n++)r+="0";return(r+t).slice(-e)},l=function(t){return t>=-720&&t<=840},d=function(t){if(0===t)return"Z";if(!s(t))return null;if(t<-720||t>840)return null;var e="+";t<0&&(t*=-1,e="-");var r=t%60,n=(t-r)/60;return e+c(n,2)+":"+c(r,2)},p=function(t){if(!i(t)&&!a(t))return null;var n,s=arguments,u=0;if(2===s.length){if("string"==typeof s[1])n=s[1];else if(u=s[1],!l(u))return null}else if(3===s.length&&(n=s[1],u=s[2],!l(u)))return null;n=n||"yyyy-MM-ddTHH:mm:ssZ";var o=0,h=d(u),f=a(t)?t.toDate():t,p={f:["fff"],s:["ss"],m:["mm"],H:["HH"],d:["d","dd","ddd","dddd"],M:["M","MM","MMM","MMMM"],y:["yy","yyyy"],Z:["Z"]},y=f.getDate(),m=f.getDay(),g=f.getMonth(),_=f.getFullYear(),b=f.getHours(),M=f.getMinutes(),D=f.getSeconds(),v=f.getMilliseconds(),w=function(t){var e="";try{e=n.match(new RegExp(t+"+",""))[0]}catch(r){}return p[t].indexOf(e)},E=function(t){var n="";switch(t){case p.d[0]:n=y;break;case p.d[1]:n=c(y,2);break;case p.d[2]:n=r[o]["short"][m];break;case p.d[3]:n=r[o].full[m];break;case p.M[0]:n=g+1;break;case p.M[1]:n=c(g+1,2);break;case p.M[2]:n=e[o]["short"][g];break;case p.M[3]:n=e[o].full[g];break;case p.y[0]:n=c(_,2);break;case p.y[1]:n=_;break;case p.H[0]:n=c(b,2);break;case p.m[0]:n=c(M,2);break;case p.s[0]:n=c(D,2);break;case p.f[0]:n=c(v,3);break;case p.Z[0]:n=h||"Z";break;default:return""}return n},k={days:E(p.d[w("d")]),months:E(p.M[w("M")]),years:E(p.y[w("y")]),hours:E(p.H[w("H")]),minutes:E(p.m[w("m")]),seconds:E(p.s[w("s")]),milliseconds:E(p.f[w("f")]),timeZone:E(p.Z[0]),separator:/^\w+([^\w])/.exec(n)};return"ddd"===n?n.replace(/d+/,k.days):n.replace(/d+/,k.days).replace(/y+/,k.years).replace(/M+/,k.months).replace(/H+/,k.hours).replace(/m+/,k.minutes).replace(/s+/,k.seconds).replace(/f+/,k.milliseconds).replace(/Z+/,k.timeZone)},y=function(t){if(!t)return 0;t=t.replace(/GMT/gi,"");var e=/^(?:Z|([+-]?)(2[0-3]|[01][0-9]):([0-5][0-9]))$/.exec(t);if(!e||4!==e.length)return 0;if("Z"===e[0])return 0;var r=60*Number(e[2])+Number(e[3]);return 0!==r&&"-"===e[1]&&(r*=-1),r};return t.createEmpty=function(){return new t(null)},t.createLocal=function(){return new t((!0))},t.prototype.copy=function(){return new t(this)},t.prototype.toDate=function(){return this._date},t.prototype.offset=function(t){return 0===arguments.length?this._offset:(this._offset=t,this)},t.prototype.toUtc=function(){return this.isEmpty()||0===this._offset?this:(this.subtract(this._offset,"minute"),this._offset=0,this)},t.prototype.isEmpty=function(){return!this._date},t.prototype.isUtc=function(){return!this.isEmpty()&&0===this._offset},t.prototype.isEqual=function(t){return 0===this.difference(t)},t.prototype.isLess=function(t){return this.difference(t)<0},t.prototype.isLessOrEqual=function(t){return this.difference(t)<=0},t.prototype.isGreater=function(t){return this.difference(t)>0},t.prototype.isGreaterOrEqual=function(t){return this.difference(t)>=0},t.prototype.isBetween=function(e,r,n){var s=new t(e),i=new t(r);return!(this.isEmpty()||s.isEmpty()||i.isEmpty())&&(n?this.isGreaterOrEqual(s)&&this.isLessOrEqual(i):this.isGreater(s)&&this.isLess(i))},t.prototype.difference=function(e){return this.valueOf()-new t(e).valueOf()},t.prototype.valueOf=function(){if(this.isEmpty())return 0;var t=this._date.valueOf();return 0!==this._offset&&(t-=6e4*this._offset),t},t.prototype.format=function(t){return this.isEmpty()?null:p(this._date,t,this._offset)},t.prototype.add=function(t,e){if(this.isEmpty()||!t)return this;var r=new Date(this._date);switch(e){case"year":r.setFullYear(r.getFullYear()+t);break;case"quarter":r.setMonth(r.getMonth()+3*t);break;case"month":r.setMonth(r.getMonth()+t);break;case"week":r.setDate(r.getDate()+7*t);break;case"day":r.setDate(r.getDate()+t);break;case"hour":r.setTime(r.getTime()+36e5*t);break;case"minute":r.setTime(r.getTime()+6e4*t);break;case"second":r.setTime(r.getTime()+1e3*t);break;case"millisecond":r.setTime(r.getTime()+t)}return this._date=r,this},t.prototype.subtract=function(t,e){return this.add(t*-1,e)},t.prototype.millisecond=function(t){return this.isEmpty()?0:0===arguments.length?this._date.getMilliseconds():(this._date.setMilliseconds(t),this)},t.prototype.second=function(t){return this.isEmpty()?0:0===arguments.length?this._date.getSeconds():(this._date.setSeconds(t),this)},t.prototype.minute=function(t){return this.isEmpty()?0:0===arguments.length?this._date.getMinutes():(this._date.setMinutes(t),this)},t.prototype.hour=function(t){return this.isEmpty()?0:0===arguments.length?this._date.getHours():(this._date.setHours(t),this)},t.prototype.date=function(t){return this.isEmpty()?0:0===arguments.length?this._date.getDate():(this._date.setDate(t),this)},t.prototype.month=function(t){return this.isEmpty()?0:0===arguments.length?this._date.getMonth():(this._date.setMonth(t),this)},t.prototype.year=function(t){return this.isEmpty()?0:0===arguments.length?this._date.getFullYear():(this._date.setFullYear(t),this)},t.prototype.startOf=function(t){switch(t){case"year":this.month(0);case"month":this.date(1);case"day":this.hour(0);case"hour":this.minute(0);case"minute":this.second(0);case"second":this.millisecond(0)}return this},t.prototype.endOf=function(t){return t?this.startOf(t).add(1,t).subtract(1,"millisecond"):this},t.parse=f,t.parseTimeZone=y,t.offsetToTimeZone=d,t.isDate=i,t.isMaDate=a,t}])}();
!function(){angular.module("marcuraUI.services").factory("MaHelper",["MaDate","$rootScope",function(e,r){return{keyCode:{backspace:8,comma:188,"delete":46,down:40,end:35,enter:13,escape:27,home:36,left:37,pageDown:34,pageUp:33,period:190,right:39,shift:16,space:32,tab:9,up:38,dash:109,dash2:189,numLock:{period:110}},html:{nbsp:"&nbsp;"},isEmail:function(e){var r=/^([\+\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;return r.test(e)},isNullOrWhiteSpace:function(e){return null===e||void 0===e||!angular.isArray(e)&&e.toString().replace(/\s/g,"").length<1},isNullOrUndefined:function(e){return null===e||angular.isUndefined(e)},formatString:function(e){for(var r="",t=0;;){var n=e.indexOf("{",t),a=e.indexOf("}",t);if(n<0&&a<0){r+=e.slice(t);break}if(a>0&&(a<n||n<0)){if("}"!==e.charAt(a+1))throw new Error("The format string contains an unmatched opening or closing brace.");r+=e.slice(t,a+1),t=a+2}else if(r+=e.slice(t,n),t=n+1,"{"!==e.charAt(t)){if(a<0)throw new Error("The format string contains an unmatched opening or closing brace.");if(a<0)break;var i=e.substring(t,a),s=i.indexOf(":"),o=parseInt(s<0?i:i.substring(0,s),10)+1;if(isNaN(o))throw new Error("The format string is invalid.");var u=arguments[o];"undefined"!=typeof u&&null!==u||(u=""),r+=u.toString(),t=a+1}else r+="{",t++}return r},getTextHeight:function(e,r,t,n){if(!r)return 0;var a=document.createElement("TEXTAREA");a.setAttribute("rows",1),a.style.font=r,a.style.width=t||"0px",a.style.border="0",a.style.overflow="hidden",a.style.padding="0",a.style.outline="0",a.style.resize="none",a.style.lineHeight=n||"normal",a.value=e,angular.element(document.querySelector("body")).append(a),a.style.height="auto",a.style.height=a.scrollHeight+"px";var i=parseInt(a.style.height);return angular.element(a).remove(),i},isGreater:function(r,t){var n=new e(r),a=new e(t),i="number"==typeof r||"number"==typeof t;return i?parseFloat(r)>parseFloat(t):n.isEmpty()||a.isEmpty()?r>t:n.isGreater(a)},isGreaterOrEqual:function(r,t){var n=new e(r),a=new e(t),i="number"==typeof r||"number"==typeof t;return i?parseFloat(r)>=parseFloat(t):n.isEmpty()||a.isEmpty()?r>=t:n.isGreaterOrEqual(a)},isLengthGreaterOrEqual:function(e,r){var t=(e||"").toString().length;return t>=r},isLess:function(r,t){var n=new e(r),a=new e(t),i="number"==typeof r||"number"==typeof t;return i?parseFloat(r)<parseFloat(t):n.isEmpty()||a.isEmpty()?r<t:n.isLess(a)},isLessOrEqual:function(r,t){var n=new e(r),a=new e(t),i="number"==typeof r||"number"==typeof t;return i?parseFloat(r)<=parseFloat(t):n.isEmpty()||a.isEmpty()?r<=t:n.isLessOrEqual(a)},isLengthLessOrEqual:function(e,r){var t=(e||"").toString().length;return t<=r},isNumber:function(e){return"number"==typeof e||!this.isNullOrWhiteSpace(e)&&null!==e.match(/^-?\d+\.?\d*$/)},isJson:function(e){try{return JSON.parse(e),!0}catch(r){return!1}},safeApply:function(e){var t=r.$$phase;return"$apply"!==t&&"$digest"!==t?void r.$apply(e):void(e&&"function"==typeof e&&e())}}}])}();
!function(){angular.module("marcuraUI.services").factory("MaPosition",["$document","$window",function(t,e){function o(t,o){return t.currentStyle?t.currentStyle[o]:e.getComputedStyle?e.getComputedStyle(t)[o]:t.style[o]}function n(t){return"static"===(o(t,"position")||"static")}var f=function(e){for(var o=t[0],f=e.offsetParent||o;f&&f!==o&&n(f);)f=f.offsetParent;return f||o};return{position:function(e){var o=this.offset(e),n={top:0,left:0},r=f(e[0]);r!=t[0]&&(n=this.offset(angular.element(r)),n.top+=r.clientTop-r.scrollTop,n.left+=r.clientLeft-r.scrollLeft);var i=e[0].getBoundingClientRect();return{width:i.width||e.prop("offsetWidth"),height:i.height||e.prop("offsetHeight"),top:o.top-n.top,left:o.left-n.left}},offset:function(o){var n=o[0].getBoundingClientRect();return{width:n.width||o.prop("offsetWidth"),height:n.height||o.prop("offsetHeight"),top:n.top+(e.pageYOffset||t[0].documentElement.scrollTop),left:n.left+(e.pageXOffset||t[0].documentElement.scrollLeft)}},positionElements:function(t,e,o,n){var f,r,i,l,u=o.split("-"),p=u[0],c=u[1]||"center";f=n?this.offset(t):this.position(t),r=e.prop("offsetWidth"),i=e.prop("offsetHeight");var s={center:function(){return f.left+f.width/2-r/2},left:function(){return f.left},right:function(){return f.left+f.width}},h={center:function(){return f.top+f.height/2-i/2},top:function(){return f.top},bottom:function(){return f.top+f.height}};switch(p){case"right":l={top:h[c](),left:s[p]()};break;case"left":l={top:h[c](),left:f.left-r};break;case"bottom":l={top:h[p](),left:s[c]()};break;default:l={top:f.top-i,left:s[c]()}}return l}}}])}();
!function(){angular.module("marcuraUI.services").factory("MaValidators",["MaHelper","MaDate",function(e,a){var n=function(e){if(!e)return null;var n=e.toString();return a.isMaDate(e)&&(n=e.format("dd MMM yyyy")),n};return{isNotEmpty:function(){return{name:"IsNotEmpty",message:"This field cannot be empty.",validate:function(a){return angular.isArray(a)?a.length>0:!e.isNullOrWhiteSpace(a)}}},isGreater:function(a,r){var t=null;return a&&(t="This field cannot be less than or equal to "+n(a)+"."),{name:"IsGreater",message:t,validate:function(n){return!(!r||!e.isNullOrWhiteSpace(n))||e.isGreater(n,a)}}},isGreaterOrEqual:function(a,r){var t=null;return a&&(t="This field cannot be less than "+n(a)+"."),{name:"IsGreaterOrEqual",message:t,validate:function(n){return!(!r||!e.isNullOrWhiteSpace(n))||e.isGreaterOrEqual(n,a)}}},isLengthGreaterOrEqual:function(a,r){var t=null;return a&&(t="Length cannot be less than "+n(a)+"."),{name:"IsLengthGreaterOrEqual",message:t,validate:function(n){return!(!r||!e.isNullOrWhiteSpace(n))||e.isLengthGreaterOrEqual(n,a)}}},isLess:function(a,r){var t=null;return a&&(t="This field cannot be greater than or equal to "+n(a)+"."),{name:"IsLess",message:t,validate:function(n){return!(!r||!e.isNullOrWhiteSpace(n))||e.isLess(n,a)}}},isLessOrEqual:function(a,r){var t=null;return a&&(t="This field cannot be greater than "+n(a)+"."),{name:"IsLessOrEqual",message:t,validate:function(n){return!(!r||!e.isNullOrWhiteSpace(n))||e.isLessOrEqual(n,a)}}},isLengthLessOrEqual:function(a,r){var t=null;return a&&(t="Length cannot be greater than "+n(a)+"."),{name:"IsLengthLessOrEqual",message:t,validate:function(n){return!(!r||!e.isNullOrWhiteSpace(n))||e.isLengthLessOrEqual(n,a)}}},isNumber:function(a){return{name:"IsNumber",message:"This field should be a number.",validate:function(n){return!(!a||!e.isNullOrWhiteSpace(n))||e.isNumber(n)}}},isEmail:function(a){return{name:"IsEmail",message:"This field should be an email.",validate:function(n){return!(!a||!e.isNullOrWhiteSpace(n))||e.isEmail(n)}}}}}])}();
!function(){angular.module("marcuraUI.components").directive("maSpinner",[function(){return{restrict:"E",transclude:!0,scope:{isVisible:"=",size:"@",position:"@"},replace:!0,template:function(){var i='                <div class="ma-spinner{{cssClass}}" ng-show="isVisible">                    <div class="ma-pace">                        <div class="ma-pace-activity"></div>                    </div>                </div>';return i},link:function(i){var s=i.size?i.size:"xs",n=i.position?i.position:"center";i.cssClass=" ma-spinner-"+s+" ma-spinner-"+n}}}])}();
!function(){angular.module("marcuraUI.components").directive("maTabs",["$state","MaHelper","$timeout",function(e,t,s){return{restrict:"E",scope:{items:"=",select:"&",useState:"="},replace:!0,template:function(){var e='            <div class="ma-tabs">                <ul class="ma-tabs-list clearfix">                    <li class="ma-tabs-item{{item.modifier ? (\' ma-tabs-item-\' + item.modifier) : \'\'}}" ng-repeat="item in items"                        ng-focus="onFocus(item)"                        ng-blur="onBlur(item)"                        ng-keypress="onKeypress($event, item)"                        ng-class="{                            \'ma-tabs-item-is-selected\': isItemSelected(item),                            \'ma-tabs-item-is-disabled\': item.isDisabled,                            \'ma-tabs-item-is-focused\': item.isFocused                        }"                        ng-click="onSelect(item)">                        <a class="ma-tabs-link" href="" tabindex="-1">                            <span class="ma-tabs-text">{{item.text}}</span>                        </a>                    </li>                </ul>            </div>';return e},link:function(a,i,n){a.$state=e;var c=a.useState!==!1;a.isItemSelected=function(t){return t.selector?t.selector():c?!(!t.state||!t.state.name)&&e.includes(t.state.name):t.isSelected},a.onSelect=function(t){t.isDisabled||t.isSelected||(c?t.state&&t.state.name&&e.go(t.state.name,t.state.parameters,t.state.options):(angular.forEach(a.items,function(e){e.isSelected=!1}),t.isSelected=!0,a.select({maItem:t})))},a.onKeypress=function(e,s){e.keyCode===t.keyCode.enter&&a.onSelect(s)},a.onFocus=function(e){e.isFocused=!0},a.onBlur=function(e){e.isFocused=!1},s(function(){var e=angular.element(i[0].querySelectorAll(".ma-tabs-item"));e.each(function(e,t){var s=a.items[e];s.isDisabled||angular.element(t).attr("tabindex","0")})})}}}])}();
!function(){angular.module("marcuraUI.components").directive("maTextArea",["$timeout","$window","MaHelper","MaValidators",function(e,t,a,i){return{restrict:"E",scope:{id:"@",value:"=",isDisabled:"=",fitContentHeight:"=",isResizable:"=",isRequired:"=",validators:"=",instance:"=",change:"&",blur:"&",focus:"&"},replace:!0,template:function(){var e='            <div class="ma-text-area"                ng-class="{                    \'ma-text-area-is-disabled\': isDisabled,                    \'ma-text-area-is-focused\': isFocused,                    \'ma-text-area-fit-content-height\': fitContentHeight,                    \'ma-text-area-is-invalid\': !isValid,                    \'ma-text-area-is-touched\': isTouched                }">                <textarea class="ma-text-area-value"                    type="text"                    ng-focus="onFocus()"                    ng-blur="onBlur()"                    ng-keydown="onKeydown($event)"                    ng-keyup="onKeyup($event)"                    ng-disabled="isDisabled">                </textarea>            </div>';return e},link:function(n,r){var o,l,u,s,d=angular.element(r[0].querySelector(".ma-text-area-value")),g=n.validators?angular.copy(n.validators):[],c=n.isRequired,p=!1;n.isFocused=!1,n.isTouched=!1,d[0].style.height="30px",n.isResizable===!1&&d.css("resize","none");for(var h=function(){var e=t.getComputedStyle(d[0],null),a={},i=parseInt(e.getPropertyValue("padding-top"))+parseInt(e.getPropertyValue("padding-bottom")),n=parseInt(e.getPropertyValue("padding-left"))+parseInt(e.getPropertyValue("padding-right")),r=parseInt(e.getPropertyValue("border-top-width"))+parseInt(e.getPropertyValue("border-bottom-width")),o=parseInt(e.getPropertyValue("border-left-width"))+parseInt(e.getPropertyValue("border-right-width"));return a.width=parseInt(t.getComputedStyle(d[0],null).getPropertyValue("width"))-n,a.height=parseInt(t.getComputedStyle(d[0],null).getPropertyValue("height"))-i,a.paddingHeight=i,a.paddingWidth=n,a.borderHeight=r,a.borderWidth=o,a.lineHeight=e.getPropertyValue("line-height"),a.font=e.getPropertyValue("font-style")+" "+e.getPropertyValue("font-variant")+" "+e.getPropertyValue("font-weight")+" "+e.getPropertyValue("font-size")+" "+e.getPropertyValue("font-height")+" "+e.getPropertyValue("font-family"),a},f=function(){return d.val()},y=function(e){return d.val(e)},v=function(){if(n.fitContentHeight){var e=h(),t=a.getTextHeight(f(),e.font,e.width+"px",e.lineHeight),i=t+e.paddingHeight+e.borderHeight;i<40&&(i=30),d[0].style.height=i+"px",r[0].style.height=i+"px"}},m=function(){if(n.isValid=!0,g&&g.length)for(var e=0;e<g.length;e++)if(!g[e].validate(f())){n.isValid=!1;break}},V=0;V<g.length;V++)if("IsNotEmpty"===g[V].name){p=!0;break}!p&&c&&g.unshift(i.isNotEmpty()),p&&(c=!0),n.onFocus=function(){n.isFocused=!0,s=n.value,n.focus({maValue:n.value})},n.onBlur=function(){n.isFocused=!1,n.isTouched=!0,m(),n.blur({maValue:n.value,maOldValue:s,maHasValueChanged:s!==f()})},n.onKeydown=function(e){e.keyCode!==a.keyCode.tab&&e.keyCode!==a.keyCode.shift&&(o=angular.element(e.target).val())},n.onKeyup=function(e){e.keyCode!==a.keyCode.tab&&e.keyCode!==a.keyCode.shift&&(l=angular.element(e.target).val(),o!==l&&(n.isTouched=!0))},d.on("input",function(t){var a=!1;l=angular.element(t.target).val(),o!==l&&(a=!0),u=o,a&&(m(),v(),n.isValid&&n.$apply(function(){n.value=f(),e(function(){n.change({maValue:n.value,maOldValue:u})})}))}),angular.element(t).on("resize",function(){v()}),e(function(){if(v(),n.isResizable===!1&&d.css("resize","none"),r.removeAttr("id"),d.attr("id",n.id),n.fitContentHeight){var t=$(r[0]).closest(".ng-hide[ng-show]");if(1===t.length){var a=t.scope();a&&a.$watch(t.attr("ng-show"),function(t){t&&e(function(){v()})})}}}),n.$watch("value",function(e,t){if(e!==t){n.isValid=!0,n.isTouched=!1;var a=d.prop("selectionStart");y(e);var i=$(r).is(":visible");i&&d.prop({selectionStart:a,selectionEnd:a}),v()}}),y(n.value),m(),u=n.value,n.instance&&(n.instance.isInitialized=!0,n.instance.isEditor=function(){return!0},n.instance.isValid=function(){return n.isValid},n.instance.validate=function(){n.isTouched=!0,m()},n.instance.focus=function(){n.isFocused||d.focus()})}}}])}();
!function(){angular.module("marcuraUI.components").directive("maSelectBoxWrapper",["$timeout","MaHelper",function(e,t){var i={};return{require:"ngModel",priority:1,compile:function(n,a){var l,r,u,s=n.is("select"),c=angular.isDefined(a.multiple);return n.is("select")&&(r=n.find("optgroup[ng-repeat], option[ng-repeat]"),r.length&&(u=r.attr("ng-repeat"),l=$.trim(u.split("|")[0]).split(" ").pop())),function(n,r,u,o){var $=angular.extend({},i,n.$eval(u.maSelectBoxWrapper)),p=function(e){var t;return $.simple_tags?(t=[],angular.forEach(e,function(e,i){t.push(e.id)})):t=e,t},d=function(e){var t=[];return e?($.simple_tags?(t=[],angular.forEach(e,function(e,i){t.push({id:e,text:e})})):t=e,t):t};if(s?(delete $.multiple,delete $.initSelection):c&&($.multiple=!0),o&&(n.$watch(a.ngModel,function(e,t){e&&e!==t&&o.$render()},!0),o.$render=function(){if(s)r.select2("val",o.$viewValue);else if($.multiple){o.$isEmpty=function(e){return!e||0===e.length};var e=o.$viewValue;$.ajax?(e=t.isJson(o.$viewValue)?JSON.parse(o.$viewValue):o.$viewValue,angular.isObject(e)&&r.select2("data",e)):angular.isString(e)&&(e=e.split(","),r.select2("data",d(e)))}else angular.isObject(o.$viewValue)?r.select2("data",o.$viewValue):o.$viewValue?r.select2("val",o.$viewValue):r.select2("data",null)},l&&n.$watch(l,function(t,i,n){angular.equals(t,i)||e(function(){r.select2("val",o.$viewValue),o.$render(),t&&!i&&o.$setPristine&&o.$setPristine(!0)})}),!s&&(r.bind("change",function(e){e.stopImmediatePropagation(),n.$$phase||n.$root.$$phase||o.$setViewValue(p(r.select2("data")))}),$.initSelection))){var f=$.initSelection;$.initSelection=function(e,t){f(e,function(e){var i=o.$pristine;$.ajax&&$.multiple||o.$setViewValue(p(e)),t(e),i&&o.$setPristine()})}}r.bind("$destroy",function(){r.select2("destroy")}),u.$observe("disabled",function(e){r.select2("enable",!e)}),u.$observe("readonly",function(e){r.select2("readonly",!!e)}),u.ngMultiple&&n.$watch(u.ngMultiple,function(e){u.$set("multiple",!!e),r.select2($)}),e(function(){if(r.select2($),r.select2("data",o.$modelValue),o.$render(),!$.initSelection&&!s){var e=o.$pristine;o.$pristine=!1,o.$setViewValue(p(r.select2("data"))),e&&o.$setPristine()}})}}}}])}();
!function(){angular.module("marcuraUI.components").directive("maSelectBox",["$document","$timeout","MaHelper",function(e,t,i){return{restrict:"E",scope:{id:"@",items:"=",value:"=",isLoading:"=",change:"&",blur:"&",focus:"&",init:"&",validate:"&",modeToggle:"&",itemTemplate:"=",itemTextField:"@",itemValueField:"@",isDisabled:"=",isRequired:"=",validators:"=",canAddItem:"=",selectItemTooltip:"@",addItemTooltip:"@",showAddItemTooltip:"=",instance:"=",ajax:"=",canReset:"=",placeholder:"@",textPlaceholder:"@",isMultiple:"=",type:"@",minSearchCharacters:"=",noItemsFoundText:"@"},replace:!0,template:function(e,t){var l=!i.isNullOrWhiteSpace(t.ajax),a="true"===t.isMultiple,n="                    <div class=\"ma-select-box\"                        ng-class=\"{                            'ma-select-box-can-add-item': canAddItem,                            'ma-select-box-is-text-focused': isTextFocused,                            'ma-select-box-is-disabled': isDisabled,                            'ma-select-box-is-invalid': !isValid,                            'ma-select-box-is-touched': isTouched,                            'ma-select-box-mode-add': isAddMode,                            'ma-select-box-mode-select': !isAddMode,                            'ma-select-box-can-reset': canReset,                            'ma-select-box-is-reset-disabled': canReset && !isDisabled && !_hasValue,                            'ma-select-box-is-loading': isLoading,                            'ma-select-box-has-value': _hasValue                        }\">                        <div class=\"ma-select-box-spinner\" ng-if=\"isLoading && !isDisabled\">                            <div class=\"ma-pace\">                                <div class=\"ma-pace-activity\"></div>                            </div>                        </div>";return n+=l?'<input class="ma-select-box-input" ma-select-box-wrapper="options"'+(a?" multiple":"")+'                        ng-show="!isAddMode"                        ng-disabled="isDisabled"                        ng-change="onChange()"                        ng-model="selectedItem"/>':'                        <select ma-select-box-wrapper="options"'+(a?" multiple":"")+'                            ng-show="!isAddMode"                            ng-disabled="isDisabled"                            ng-model="selectedItem"                            ng-change="onChange()"                            placeholder="{{placeholder}}">                            <option></option>                            <option ng-repeat="item in _items" value="{{item[_itemValueField]}}">                                {{item.text}}                            </option>                        </select>',n+='                    <input class="ma-select-box-text" type="text" ng-show="isAddMode"                        ng-model="text"                        ng-disabled="isDisabled"                        ng-focus="onFocus(\'text\')"                        placeholder="{{textPlaceholder}}"/>                    <ma-button class="ma-button-toggle"                        ng-show="canAddItem" size="xs" modifier="simple"                        ma-tooltip="{{_addItemTooltip}}"                        ma-tooltip-is-disabled="!canAddItem"                        right-icon="{{isAddMode ? \'bars\' : \'plus\'}}"                        click="changeMode()"                        ng-focus="onFocus(\'toggle\')"                        is-disabled="isDisabled">                    </ma-button>                    <ma-button class="ma-button-reset"                        ng-show="canReset" size="xs" modifier="simple"                        right-icon="times-circle"                        click="onReset()"                        ng-focus="onFocus(\'reset\')"                        is-disabled="isDisabled || !_hasValue">                    </ma-button>                </div>'},controller:["$scope",function(e){e._type=e.type?e.type:"object",e._itemValueField=e.itemValueField?e.itemValueField:"id",e._minSearchCharacters=e.minSearchCharacters>0?e.minSearchCharacters:1,e.getItemValue=function(t,l){if(l="boolean"!=typeof l||l,i.isNullOrWhiteSpace(t))return null;if("object"!=typeof t)return t.toString();for(var a=e._itemValueField.split("."),n=t[a[0]],o=1;o<a.length;o++)n=n[a[o]];return i.isNullOrUndefined(n)?null:l?n.toString():n},e.convertItemValue=function(t){return i.isNullOrUndefined(t)?null:"object"===e._type?t:"string"===e._type?t[e._itemValueField]:"boolean"===e._type?"true"===t[e._itemValueField]:"number"===e._type?Number(t[e._itemValueField]):t},e.getItemText=function(t){return e.itemTemplate?e.itemTemplate(e.convertItemValue(t)):t?"object"!==e._type?t[e._itemValueField]:e.itemTextField?t[e.itemTextField]:t.toString():""},e.runInitSelection=!0,e.options={},e.options.canAddItem=!!e.canAddItem,e.options.instance={},e.noItemsFoundText&&(e.options.formatNoMatches=function(){return e.noItemsFoundText}),e.ajax&&(e.options.ajax=e.ajax,e.options.minimumInputLength=e._minSearchCharacters,e.options.escapeMarkup=function(e){return e},e.options.initSelection=function(t,i){if(e.runInitSelection&&e.getItemValue(e.value)){var l=angular.copy(e.value);l.text=e.getItemText(l),l[e._itemValueField]=e.getItemValue(l,"object"!==e._type),e.previousSelectedItem=l,i(l)}else i();e.runInitSelection=!1},e.isMultiple&&(e.options.formatSelection=function(t){return e.getItemText(t)}))}],link:function(l,a,n){var o,u,s,d,c,r,m=angular.element(a[0].querySelector(".ma-select-box-text")),f=null,p=!0,g=!1,h=!1,v=!1,x=l.showAddItemTooltip!==!1,I=l.validators?angular.copy(l.validators):[],b=" ",V=null;l.previousSelectedItem=l.previousSelectedItem||null,l.isAddMode=!1,l.isTextFocused=!1,l.isValid=!0,l.isTouched=!1,l.hasAjax=angular.isObject(l.ajax),l._hasValue=!1,l._items=[];var _=function(e){if(!l.hasAjax&&angular.isArray(e)){l._items.splice(0,l._items.length);var t,a=[];if("object"===l._type)a=angular.copy(e);else for(t=0;t<e.length;t++)if(!i.isNullOrUndefined(e[t])){var n={};n[l._itemValueField]=e[t].toString(),a.push(n)}for(t=0;t<a.length;t++)a[t].text=l.getItemText(a[t]);Array.prototype.push.apply(l._items,a)}};_(l.items);var A={name:"IsNotEmpty",validate:function(e){return l.isMultiple&&angular.isArray(e)?e.length>0:!i.isNullOrWhiteSpace(e)&&("object"!==l._type&&!i.isNullOrWhiteSpace(e)||!!(l.hasAjax||l.isAddMode||M(e)))}},S=function(){for(var e=null,t=0;t<I.length;t++)if("IsNotEmpty"===I[t].name){e=t,I[t]=A;break}null===e&&l.isRequired?I.unshift(A):null===e||l.isRequired||I.splice(e,1)},T=function(e){t(function(){l.validate({maValue:e})})},M=function(e){if(l.hasAjax)return e&&!i.isNullOrWhiteSpace(e[l.itemValueField]);for(var t=0;t<l._items.length;t++)if(l.getItemValue(l._items[t])===l.getItemValue(e))return!0;return!1},y=function(e){if(i.isNullOrWhiteSpace(e))return null;if("object"!==l._type)return e;for(var t=0;t<l._items.length;t++)if(l.getItemValue(l._items[t])===e.toString())return l._items[t];return null},F=function(e){if(i.isNullOrWhiteSpace(e))return null;var t={};return"object"===l._type?t[l.itemTextField]=e:e&&(t[l._itemValueField]=e),t},j=function(e){if(l.isMultiple){var t,a=[];if(l.hasAjax){if(e&&e.length)for(t=0;t<e.length;t++)a.push(e[t]);a=JSON.stringify(a)}else if(e&&e.length)for(t=0;t<e.length;t++)a.push(l.getItemValue(e[t]));l.selectedItem=a,w(e)}else l.canAddItem&&e&&(l.isAddMode=!M(e),q()),w(e),l.isAddMode?(i.isNullOrWhiteSpace(e)?l.text=null:"object"===l._type?l.text=e[l.itemTextField].toString():l.text=e,f=e,l.toggleMode("add")):(i.isNullOrWhiteSpace(e)?l.selectedItem=null:l.hasAjax||(l.selectedItem=l.getItemValue(e)),l.previousSelectedItem=e,l.toggleMode("select")),q();k()},O=function(e){if(i.isNullOrWhiteSpace(e))return null;var t=angular.copy(e);if("object"===l._type)if(l.isMultiple)for(var a=0;a<t.length;a++)delete t[a].text;else delete t.text;return t},N=function(e,a){var n=angular.element(e.relatedTarget||e.toElement),s=n[0]===u[0],c=!l.isMultiple&&d.focusser[0]===n[0],x=e.target===o[0],I=e.target===u[0];if(l.isTextFocused=!1,"text"===a?l.$apply(function(){l.isTouched=!0;var e;if(!i.isNullOrWhiteSpace(l.text)||!i.isNullOrWhiteSpace(l.value)){if("object"===l._type){if(l.value&&l.value[l.itemTextField]===l.text)return;e=l.convertItemValue(F(l.text))}else{if(l.value===l.text)return;e=l.text}w(e),l.isValid&&(e=O(e),r=O(l.value)||null,l.value=e,f=l.value,k(),l.isValid&&!s&&t(function(){l.change({maValue:l.value,maOldValue:r})}))}}):"select"===a&&i.safeApply(function(){l.isTouched=!0}),p=(!x&&!I||!c)&&(!h&&!v&&n[0]!==o[0]&&!s&&n[0]!==m[0]&&n[0]!==d.search[0]),l.isMultiple){var b=angular.element(e.target);b.hasClass("select2-input")&&b.hasClass("select2-default")?p=!0:g&&(p=!1)}p&&l.blur({maValue:l.value})},w=function(e,t){if(l.isValid=!0,V=null,t=void 0===t||t,I&&I.length)for(var i=0;i<I.length;i++)if(!I[i].validate(e)){l.isValid=!1,V=I[i];break}t!==!1&&T(e)},W=function(){l.isAddMode?m.focus():s.select2("focus")},k=function(){l.isMultiple?l._hasValue=!i.isNullOrUndefined(l.value)&&l.value.length:l.isAddMode?l._hasValue=!i.isNullOrWhiteSpace(l.text):l._hasValue=!i.isNullOrUndefined(l.value)&&!l.isLoading},q=function(){x&&l.canAddItem?l.isAddMode?l._addItemTooltip=l.selectItemTooltip?l.selectItemTooltip:"Select"+b+"item":l._addItemTooltip=l.addItemTooltip?l.addItemTooltip:"Add"+b+"item":l._addItemTooltip=""},C=function(e,t){if(!e&&!t)return!0;if(e&&!t||!e&&t||e.length!==t.length)return!1;for(var i=!0,a=0;a<e.length;a++)if("object"===l._type){if(e[a][l._itemValueField]!==t[a][l._itemValueField]){i=!1;break}}else if(e[a]!==t[a]){i=!1;break}return i},R=function(e){return 1!==arguments.length?d?d.searchText:"":void(d&&(d.searchText=e))};l.changeMode=function(){l.toggleMode(null,null,!0),t(function(){l.modeToggle({maValue:l.value,maOldValue:r})})},l.reset=function(){r=l.value,l.value=l.isMultiple?[]:null,k()},l.onReset=function(){l.isTouched=!0,l.reset(),W(),t(function(){l.change({maValue:l.value,maOldValue:r})})},l.onFocus=function(e,t){"text"===e&&(l.isTextFocused=!0),p&&l.focus({maValue:l.value}),p=!1},l.options.instance.focus=function(){l.onFocus()},l.options.instance.blur=function(e){N(e,"select")},m.focusout(function(e){N(e,"text")}),l.toggleMode=function(e,a,n){if(l.canAddItem&&!(l.isAddMode&&"add"===e||!l.isAddMode&&"select"===e)){var o,u,d=!0;r=i.isNullOrWhiteSpace(l.value)?null:l.value,"select"===e?(l.isAddMode=!1,d=!1):"add"===e?(l.isAddMode=!0,d=!1):l.isAddMode=!l.isAddMode,"boolean"==typeof a&&(d=a),q(),l.isAddMode?(s&&s.select2("close"),l.hasAjax?l.previousSelectedItem=l.selectedItem:l.previousSelectedItem=y(l.selectedItem),o=R()?"object"===l._type?F(R()):R():O(f),i.isNullOrWhiteSpace(o)||(l.text="object"===l._type?o[l.itemTextField]:o),R("")):(f=l.convertItemValue(F(l.text)),o=O(l.previousSelectedItem)),w(o),u=!angular.equals(l.getItemValue(o),l.getItemValue(r)),l.isValid&&(l.value=o),n&&(l.isTouched=!0),k(),d&&t(function(){W(),l.isValid&&u&&l.change({maValue:l.value,maOldValue:r})})}},l.onChange=function(){var e;if(l.isMultiple){var a=l.selectedItem,n=[];if(l.hasAjax){if(n=d.data(),angular.equals(n,l.value))return;r=O(l.value)}else{r=O(l.value);for(var o=0;o<a.length;o++)e=y(a[o]),e&&n.push(e)}l.isTouched=!0,l.value=O(l.convertItemValue(n)),k(),t(function(){l.change({maValue:l.value,maOldValue:r})}),d.dropdown.mouseleave()}else{if(e=i.isJson(l.selectedItem)?JSON.parse(l.selectedItem):l.selectedItem,"number"==typeof e&&"string"===l._type&&(e=l.selectedItem),l.hasAjax){if(e===l.previousSelectedItem)return;if(!angular.isObject(e))return}if(!l.hasAjax&&l._itemValueField&&!i.isNullOrWhiteSpace(e))for(var u=0;u<l._items.length;u++)if(l.getItemValue(l._items[u])===e.toString()){e=l._items[u];break}if(i.isNullOrWhiteSpace(e)&&i.isNullOrWhiteSpace(l.value))return;if(l._itemValueField){var s=l.getItemValue(l.value);if(s&&s===l.getItemValue(e))return}else if(e===l.value)return;l.isTouched=!0,r=O(l.value),l.value=O(l.convertItemValue(e)),l.previousSelectedItem=e,k(),t(function(){l.change({maValue:l.value,maOldValue:r})})}};var D=function(){l.hasAjax&&d&&(d.opts.placeholder=l.value?"":l.placeholder,l.runInitSelection=!0,d.initSelection())};l.hasAjax||l.$watch("items",function(e){C(l._items,e)||(_(e),j(l.value),l.isAddMode||t(function(){if(d){var e,t;if(i.isNullOrWhiteSpace(l.value))d.data(null);else if(angular.isObject(l.value))if(l.isMultiple&&angular.isArray(l.value)){for(var a=[],n=0;n<l.value.length;n++)e=l.getItemValue(l.value[n]),t=angular.copy(y(e)||l.value[n]),t.text=l.getItemText(t),t[l._itemValueField]=e,t&&a.push(t);d.data(a)}else e=l.getItemValue(l.value),t=angular.copy(y(e)||l.value),t.text=l.getItemText(t),t[l._itemValueField]=e,d.data(t);else d.val(l.getItemValue(l.value))}}))},!0),l.$watch("value",function(e,t){e!==t&&(D(),j(e))}),l.$watch("text",function(e,t){e!==t&&(l.isTouched=!0,k(),w("object"===l._type?F(e):e))}),l.$watch("isRequired",function(e,t){e!==t&&(S(),w(l.isAddMode?l.text:l.value))}),l.instance&&(l.instance.isInitialized=!0,l.instance.isEditor=function(){return!0},l.instance.mode=function(e){return 1!==arguments.length?l.isAddMode?"add":"select":void("select"===e&&l.isAddMode?l.toggleMode("select"):"add"!==e||l.isAddMode||l.toggleMode("add"))},l.instance.isValid=function(){return l.isValid},l.instance.validate=function(){l.isTouched=!0,w(l.isAddMode?l.text:l.selectedItem,!1)},l.instance.failedValidator=function(){return V},l.instance.clear=function(){l.reset(),t(function(){l.isTouched=!1})}),S(),t(function(){j(l.value),s=angular.element(a[0].querySelector(".select2-container")),d=s.data()?s.data().select2:null,c=$('label[for="'+l.id+'"]'),o=angular.element(a[0].querySelector(".ma-button-toggle")),u=angular.element(a[0].querySelector(".ma-button-reset")),D(),c.length>0&&$(e).on("click",'label[for="'+l.id+'"]',function(){W()}),d&&(l.isMultiple?(d.selection.on("mouseenter",function(){g=!0}),d.selection.on("mouseleave",function(){g=!1}),d.dropdown.on("mouseenter",function(){g=!0}),d.dropdown.on("mouseleave",function(){g=!1}),d.dropdown.on("click",function(){d.search.focus()})):d.addItemButton.on("click",function(){l.$apply(function(){l.toggleMode("add",!0,!0),t(function(){l.modeToggle({maValue:l.value,maOldValue:r})})})})),o.focusout(function(e){N(e)}),u.focusout(function(e){N(e)}),o.mousedown(function(e){h=!0}),o.mouseup(function(e){h=!1}),u.mousedown(function(e){v=!0}),u.mouseup(function(e){v=!1}),l.init({maInstance:l.instance})})}}}])}();
!function(){angular.module("marcuraUI.components").provider("MaTooltip",function(){var i={position:"top",animation:!0,delay:0,useContentExp:!1},o={mouseenter:"mouseleave",click:"click",focus:"blur"},n={};this.options=function(i){angular.extend(n,i)},this.$get=["$window","$compile","$timeout","$document","$interpolate","MaPosition","MaHelper",function(t,e,s,l,a,c,p){return function(t,l){l=angular.extend({},i,n,l);var u=function(i){var n=i||l.trigger||t,e=o[n]||n;return{show:n,hide:e}},r=a.startSymbol(),m=a.endSymbol(),d="                    <div ma-tooltip-popup                        "+(l.useContentExp?'content-exp="contentExp()" ':'content="'+r+"content"+m+'" ')+'                        position="'+r+"position"+m+'"                        popup-class="'+r+"popupClass"+m+'"                        animation="animation"                        is-visible="isVisible"                        can-close="canClose"                        origin-scope="origScope"                        tooltip-scope="getTooltipScope">                    </div>';return{restrict:"EA",compile:function(i,o){var n=e(d);return function(i,o,t,e){var a,r,m,d,f=u(),v=angular.isDefined(t.maTooltipIsDisabled),C=i.$new(!0),b=i.$eval(t.maTooltipAnimation),T=i.$eval(t.maTooltipCanClose),$=parseInt(t.maTooltipDelay),g=i.$eval(t.maTooltipInstance);C.delay=isNaN($)?l.delay:$,C.popupClass=t.maTooltipClass,C.position=t.maTooltipPosition?t.maTooltipPosition:l.position,C.animation=void 0!==b?!!b:l.animation,C.isVisible=!1,C.canClose=void 0!==T&&!!T,C.origScope=i,C.contentExp=function(){return i.$eval(t.maTooltip)},C.getTooltipScope=function(){return C};var h=function(){if(a){var i=c.positionElements(o,a,C.position,!1);i.top+="px",i.left+="px",a.css(i)}},V=function(){C.isVisible?E():C.isVisible||x()},w=function(){C.isVisible||x()},x=function(){v&&i.$eval(t.maTooltipIsDisabled)||(C.delay?d||(d=s(y,C.delay,!1),d.then(function(i){i()})):y()())},y=function(){return d=null,m&&(s.cancel(m),m=null),(l.useContentExp?C.contentExp():C.content)?(A(),a.css({top:0,left:0,display:"block"}),h(),p.safeApply(function(){C.isVisible=!0}),h):angular.noop},E=function(){p.safeApply(function(){C.isVisible=!1,s.cancel(d),d=null,C.animation?m||(m=s(S,500)):S()})};C.close=function(){E()};var A=function(){a&&S(),r=C.$new(),a=n(r,function(i){o.after(i)}),r.$watch(function(){s(h,0,!1)}),l.useContentExp&&r.$watch("contentExp()",function(i){!i&&C.isVisible&&E()})},S=function(){m=null,a&&(a.remove(),a=null),r&&(r.$destroy(),r=null)},k=function(){I(),f=u(t.maTooltipOn),f.show===f.hide?o.bind(f.show,V):(o.bind(f.show,w),C.canClose||o.bind(f.hide,E))},I=function(){o.unbind(f.show,w),o.unbind(f.hide,E)};t.$observe("maTooltip",function(i){C.content=i,!i&&C.isVisible&&E()}),t.maTooltipCanClose&&i.$watch(t.maTooltipCanClose,function(i,o){i!==o&&(C.canClose=i,k(),!C.canClose&&C.isVisible&&E())}),k(),s(function(){C&&C.isVisible&&x()}),g&&(g.isInitialized=!0,g.show=function(){C.isVisible||x()},g.hide=function(){C.isVisible&&E()}),i.$on("$destroy",function(){s.cancel(m),s.cancel(d),I(),S(),C=null})}}}}}]}).directive("maTooltipPopup",["$sce",function(i){return{restrict:"EA",replace:!0,scope:{content:"@",position:"@",popupClass:"@",animation:"&",isVisible:"&",canClose:"&",tooltipScope:"="},template:function(){var i='<div class="ma-tooltip" ma-tooltip-animation-class="fade" ma-tooltip-classes                    ng-class="{                        \'in\': isVisible(),                        \'ma-tooltip-can-close\': canClose()                    }">                    <div class="ma-tooltip-arrow"></div>                    <div class="ma-tooltip-inner" ng-bind-html="getContent()"></div>                    <div class="ma-tooltip-close" ng-if="canClose()" ng-click="tooltipScope().close()">                        <i class="fa fa-close"></i>                    </div>                </div>';return i},link:function(o){o.getContent=function(){return i.trustAsHtml(o.content)}}}}]).directive("maTooltip",["MaTooltip",function(i){return i("mouseenter")}]).directive("maTooltipClasses",function(){return{restrict:"A",link:function(i,o,n){i.position&&o.addClass(i.position),i.popupClass&&o.addClass(i.popupClass),i.animation()&&o.addClass(n.maTooltipAnimationClass)}}})}();
!function(){angular.module("marcuraUI.components").provider("maTextBoxConfiguration",function(){this.$get=function(){return this}}).directive("maTextBox",["$timeout","MaHelper","MaValidators",function(e,a,i){return{restrict:"E",scope:{id:"@",type:"@",value:"=",isDisabled:"=",isRequired:"=",validators:"=",instance:"=",change:"&",changeWhenIsInvalid:"=",blur:"&",focus:"&",validate:"&",changeTimeout:"=",canReset:"=",placeholder:"@",hasShowPasswordButton:"=",trim:"=",max:"=",min:"=",decimals:"=",useFormat:"=",reset:"&",defaultValue:"=",modifier:"@"},replace:!0,template:function(e,a){var i="password"===a.type?"password":"text";"number"!==i&&"email"!==i||(i="text");var t="            <div class=\"ma-text-box\"                ng-class=\"{                    'ma-text-box-is-disabled': isDisabled,                    'ma-text-box-is-focused': isValueFocused,                    'ma-text-box-is-invalid': !isValid,                    'ma-text-box-is-touched': isTouched,                    'ma-text-box-can-reset': canReset,                    'ma-text-box-is-reset-disabled': canReset && !isDisabled && !isResetEnabled(),                    'ma-text-box-can-toggle-password': canTogglePassword,                    'ma-text-box-is-toggle-password-disabled': canTogglePassword && !isDisabled && !isTogglePasswordEnabled(),                    'ma-text-box-has-value': hasValue()                }\">                <input class=\"ma-text-box-value\" type=\""+i+'" id="{{id}}"                    autocomplete="off"                    placeholder="{{placeholder}}"                    ng-focus="onFocus(\'value\')"                    ng-keydown="onKeydown($event)"                    ng-disabled="isDisabled"/>                <ma-button class="ma-button-toggle-password"                    ng-show="canTogglePassword" size="xs" modifier="simple"                    right-icon="{{isPasswordVisible ? \'eye-slash\' : \'eye\'}}"                    click="togglePassword()"                    ng-focus="onFocus()"                    is-disabled="!isTogglePasswordEnabled()">                </ma-button>                <ma-button class="ma-button-reset"                    ng-show="canReset" size="xs" modifier="simple"                    right-icon="times-circle"                    click="onReset()"                    ng-focus="onFocus()"                    is-disabled="!isResetEnabled()">                </ma-button>            </div>';return t},controller:["$scope","maTextBoxConfiguration",function(e,a){e.configuration={},e.decimals>=0?e.configuration.decimals=e.decimals:a.decimals>=0?e.configuration.decimals=a.decimals:e.configuration.decimals=2}],link:function(t,n,s){var o,l,u,r,d,c=angular.element(n[0].querySelector(".ma-text-box-value")),f=angular.element(n[0].querySelector(".ma-button-reset")),m=angular.element(n[0].querySelector(".ma-button-toggle-password")),v=[],p=Number(t.changeTimeout),b=!0,g=t.trim!==!1,h=!1,y=null,x=t.configuration.decimals,V=void 0!==s.defaultValue,w=a.isNullOrUndefined(t.defaultValue)?"":t.defaultValue,k="number"==typeof t.min,C="number"==typeof t.max,O=void 0===t.useFormat||t.useFormat;"number"===t.type&&(w="number"==typeof t.defaultValue?t.defaultValue:null);var T=function(e){if(!a.isNullOrWhiteSpace(e)){e=e.split(" ");for(var i=0;i<e.length;i++)n.removeClass("ma-text-box-"+e[i])}var s="";a.isNullOrWhiteSpace(t.modifier)||(s=t.modifier.split(" "));for(var o=0;o<s.length;o++)n.addClass("ma-text-box-"+s[o])},N=function(e){e=a.isNullOrUndefined(e)?"":e,"number"!==t.type&&g&&(e=e.trim()),u=e},E=function(){var e=c.val();return"number"===t.type?S(e):e},F=function(e){t.isValid=!0,y=null,e=void 0===e||e;var a=c.val();if("number"===t.type&&(a=U(a)),v&&v.length)for(var i=0;i<v.length;i++)if(!v[i].validate(a)){t.isValid=!1,y=v[i];break}e!==!1&&R(a)},P=function(i){if(q(i)){h=!0;var n=u;"number"!==t.type&&g&&(n=n.trim(),i=i.trim()),V&&(a.isNullOrUndefined(i)&&(i=w),a.isNullOrUndefined(n)&&(n=w)),t.value=i,N(i),e(function(){t.change({maValue:i,maOldValue:n})})}},R=function(a){e(function(){t.validate({maValue:a})})},q=function(e){e=a.isNullOrUndefined(e)?"":e;var i=a.isNullOrUndefined(u)?"":u,n=!1;return n="number"!==t.type&&g?i.trim()!==e.trim():i!==e},I=function(){return t.isTouched=!0,q(E())?(F(),void((t.isValid||t.changeWhenIsInvalid)&&P(E()))):void F()},S=function(e,i){return a.isNullOrWhiteSpace(e)?null:(e=parseFloat(U(e)),i||(e=parseFloat(e.toFixed(x))),isNaN(e)?null:e)},D=function(e){if(a.isNullOrWhiteSpace(e))return"";var i=e.indexOf(".")==-1?"":e.replace(/^-?\d+(?=\.)/,""),t=e.replace(/(\.\d+)$/,""),n=t.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,");return""+n+i},U=function(e){return a.isNullOrWhiteSpace(e)?"":e.trim().replace(/,/g,"")},W=function(e){if(a.isNullOrWhiteSpace(e))return e;var i=e;return"number"===t.type&&(e="number"==typeof e?e:Number(e),i=O?D(e.toFixed(x)):e.toFixed(0)),i},L=function(){var e=!1;v=t.validators?angular.copy(t.validators):[];for(var a=0;a<v.length;a++)if("IsNotEmpty"===v[a].name){e=!0;break}!e&&t.isRequired&&v.unshift(i.isNotEmpty()),"number"===t.type&&v.push(i.isNumber(!0)),k&&("number"===t.type?v.push(i.isGreaterOrEqual(t.min,!0)):v.push(i.isLengthGreaterOrEqual(t.min,!0))),C&&("number"===t.type?v.push(i.isLessOrEqual(t.max,!0)):v.push(i.isLengthLessOrEqual(t.max,!0))),"email"===t.type&&v.push(i.isEmail(!0))};L(),t.isValueFocused=!1,t.isTouched=!1,t.canTogglePassword=!1,t.isPasswordVisible=!1,"password"===t.type&&(t.canTogglePassword=t.hasShowPasswordButton!==!1),t.hasValue=function(){if("number"===t.type){var e=c.val();return""!==e&&!a.isNumber(e)||S(e,!0)!==w&&""!==e}return c.val()!==w},t.isResetEnabled=function(){if(t.isDisabled)return!1;if("number"===t.type){var e=c.val();return""!==e&&!a.isNumber(e)||S(e,!0)!==w&&""!==e}return c.val()!==w},t.doReset=function(){N(E()),c.val(w)},t.onReset=function(){t.isDisabled||(t.doReset(),t.isTouched=!0,P(w),F(),c.focus(),e(function(){t.reset()}))},t.onFocus=function(e){if("value"===e&&(t.isValueFocused=!0,"number"===t.type&&!a.isNullOrUndefined(t.value)&&t.isValid)){var i=t.value.toFixed(O?x:0);c.val(i)}b&&(d=t.value,t.focus({maValue:t.value})),b=!1},c.focusout(function(e){A(e,"value")}),f.focusout(function(e){A(e)}),m.focusout(function(e){A(e)}),t.togglePassword=function(){t.isPasswordVisible=!t.isPasswordVisible,c[0].type=t.isPasswordVisible?"text":"password"},t.isTogglePasswordEnabled=function(){return!t.isDisabled&&""!==c.val()};var A=function(i,n){var s=angular.element(i.relatedTarget),o=c.val();b=t.canTogglePassword?s[0]!==c[0]&&s[0]!==m[0]&&s[0]!==f[0]:s[0]!==c[0]&&s[0]!==f[0],r&&e.cancel(r),"value"===n&&(V&&""===o.trim()&&(h=!0,o=w,t.value=o,c.val(W(o))),t.isResetEnabled()||s[0]!==f[0]||(b=!0),F(),t.isValid&&c.val(W(o))),a.safeApply(function(){t.isValueFocused=!1}),b&&(I(),a.safeApply(function(){t.blur({maValue:t.value,maOldValue:d,maHasValueChanged:d!==t.value})}))};t.onKeydown=function(e){if(e.keyCode!==a.keyCode.tab&&e.keyCode!==a.keyCode.shift&&(o=angular.element(e.target).val(),"number"===t.type)){if($.inArray(e.keyCode,[a.keyCode.backspace,a.keyCode["delete"],a.keyCode.home,a.keyCode.end,a.keyCode.period,a.keyCode.numLock.period,a.keyCode.dash,a.keyCode.dash2])!==-1||37===e.keyCode||39===e.keyCode)return;(e.shiftKey||e.keyCode<48||e.keyCode>57)&&(e.keyCode<96||e.keyCode>105)&&e.preventDefault()}},c.on("input",function(i){if(i.keyCode!==a.keyCode.tab&&i.keyCode!==a.keyCode.shift){var t=!1;l=angular.element(i.target).val(),o!==l&&(t=!0),t&&(r&&e.cancel(r),r=e(function(){I()},p))}}),e(function(){n.removeAttr("id"),t.id?c.attr("id",t.id):c.removeAttr("id")}),t.$watch("value",function(e,a){if(h)return void(h=!1);if(e!==a){q(e)&&(t.isTouched=!0);var i=c.prop("selectionStart");N(e),c.val(W(e)),F(!1),t.isValueFocused&&c.prop({selectionStart:i,selectionEnd:i})}}),t.$watch("isRequired",function(e,a){e!==a&&(L(),F())});var B=function(e,a){if(e!==a){var i=E();L();for(var n=[],s=0;s<v.length;s++)"IsGreaterOrEqual"!==v[s].name&&"IsLessOrEqual"!==v[s].name||n.push(v[s]);if(n.length){for(!y||"IsGreaterOrEqual"!==y.name&&"IsLessOrEqual"!==y.name||(y=null,t.isValid=!0),s=0;s<n.length;s++)if(!n[s].validate(i)){t.isValid=!1,y=n[s];break}t.isValid||(t.isTouched=!0)}(t.isValid||t.changeWhenIsInvalid)&&P(i)}};t.$watch("max",function(e,a){B(e,a)}),t.$watch("min",function(e,a){B(e,a)}),t.$watch("modifier",function(e,a){e!==a&&T(a)}),V&&a.isNullOrUndefined(t.value)&&(t.value=w),c.val(W(t.value)),F(),N(t.value),T(),t.instance&&(t.instance.isInitialized=!0,t.instance.isEditor=function(){return!0},t.instance.validate=function(){if(t.isTouched=!0,F(!1),t.isValid){var e=E();q(e)&&(t.value=e)}},t.instance.isValid=function(){return t.isValid},t.instance.focus=function(){t.isValueFocused||c.focus()},t.instance.failedValidator=function(){return y},t.instance.clear=function(){t.doReset(),e(function(){t.isTouched=!1})},t.instance.isTouched=function(){return t.isTouched})}}}])}();